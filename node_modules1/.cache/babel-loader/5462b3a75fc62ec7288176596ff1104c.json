{"ast":null,"code":"/**\n * Dependencies\n */\nvar argsToArray = require('./utils').argsToArray;\n\nvar isUtil = require('./utils').isUtil;\n/**\n * Extend proto\n */\n\n\nmodule.exports = function (proto) {\n  // change the specified frame.\n  // See #202.\n  proto.selectFrame = function (frame) {\n    if (typeof frame === 'number') this.sourceFrames = '[' + frame + ']';\n    return this;\n  }; // define the sub-command to use, http://www.graphicsmagick.org/utilities.html\n\n\n  proto.command = proto.subCommand = function subCommand(name) {\n    this._subCommand = name;\n    return this;\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-adjoin\n\n\n  proto.adjoin = function adjoin() {\n    return this.out(\"-adjoin\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-affine\n\n\n  proto.affine = function affine(matrix) {\n    return this.out(\"-affine\", matrix);\n  };\n\n  proto.alpha = function alpha(type) {\n    if (!this._options.imageMagick) return new Error('Method -alpha is not supported by GraphicsMagick');\n    return this.out('-alpha', type);\n  };\n  /**\n   * Appends images to the list of \"source\" images.\n   *\n   * We may also specify either top-to-bottom or left-to-right\n   * behavior of the appending by passing a boolean argument.\n   *\n   * Examples:\n   *\n   *    img = gm(src);\n   *\n   *    // +append means left-to-right\n   *    img.append(img1, img2)       gm convert src img1 img2 -append\n   *    img.append(img, true)        gm convert src img +append\n   *    img.append(img, false)       gm convert src img -append\n   *    img.append(img)              gm convert src img -append\n   *    img.append(img).append()     gm convert src img -append\n   *    img.append(img).append(true) gm convert src img +append\n   *    img.append(img).append(true) gm convert src img +append\n   *    img.append(img).background('#222) gm convert src img -background #222 +append\n   *    img.append([img1,img2...],true)\n    * @param {String} or {Array} [img]\n   * @param {Boolean} [ltr]\n   * @see http://www.graphicsmagick.org/GraphicsMagick.html#details-append\n   */\n\n\n  proto.append = function append(img, ltr) {\n    if (!this._append) {\n      this._append = [];\n      this.addSrcFormatter(function (src) {\n        this.out(this._append.ltr ? '+append' : '-append');\n        src.push.apply(src, this._append);\n      });\n    }\n\n    if (0 === arguments.length) {\n      this._append.ltr = false;\n      return this;\n    }\n\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n\n      switch (isUtil(arg)) {\n        case 'Boolean':\n          this._append.ltr = arg;\n          break;\n\n        case 'String':\n          this._append.push(arg);\n\n          break;\n\n        case 'Array':\n          for (var j = 0, len = arg.length; j < len; j++) {\n            if (isUtil(arg[j]) == 'String') {\n              this._append.push(arg[j]);\n            }\n          }\n\n          break;\n      }\n    }\n\n    return this;\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-authenticate\n\n\n  proto.authenticate = function authenticate(string) {\n    return this.out(\"-authenticate\", string);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-average\n\n\n  proto.average = function average() {\n    return this.out(\"-average\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-backdrop\n\n\n  proto.backdrop = function backdrop() {\n    return this.out(\"-backdrop\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-black-threshold\n\n\n  proto.blackThreshold = function blackThreshold(red, green, blue, opacity) {\n    return this.out(\"-black-threshold\", argsToArray(red, green, blue, opacity).join(','));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-blue-primary\n\n\n  proto.bluePrimary = function bluePrimary(x, y) {\n    return this.out(\"-blue-primary\", argsToArray(x, y).join(','));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-border\n\n\n  proto.border = function border(width, height) {\n    return this.out(\"-border\", width + \"x\" + height);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-bordercolor\n\n\n  proto.borderColor = function borderColor(color) {\n    return this.out(\"-bordercolor\", color);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-box\n\n\n  proto.box = function box(color) {\n    return this.out(\"-box\", color);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-channel\n\n\n  proto.channel = function channel(type) {\n    return this.out(\"-channel\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-chop\n\n\n  proto.chop = function chop(w, h, x, y) {\n    return this.in(\"-chop\", w + \"x\" + h + \"+\" + (x || 0) + \"+\" + (y || 0));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-clip\n\n\n  proto.clip = function clip() {\n    return this.out(\"-clip\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-coalesce\n\n\n  proto.coalesce = function coalesce() {\n    return this.out(\"-coalesce\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-colorize\n\n\n  proto.colorize = function colorize(r, g, b) {\n    return this.out(\"-colorize\", [r, g, b].join(\",\"));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-colormap\n\n\n  proto.colorMap = function colorMap(type) {\n    return this.out(\"-colormap\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-compose\n\n\n  proto.compose = function compose(operator) {\n    return this.out(\"-compose\", operator);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-compress\n\n\n  proto.compress = function compress(type) {\n    return this.out(\"-compress\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-kernel\n\n\n  proto.convolve = function convolve(kernel) {\n    return this.out(\"-convolve\", kernel);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-create-directories\n\n\n  proto.createDirectories = function createDirectories() {\n    return this.out(\"-create-directories\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-deconstruct\n\n\n  proto.deconstruct = function deconstruct() {\n    return this.out(\"-deconstruct\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-define\n\n\n  proto.define = function define(value) {\n    return this.out(\"-define\", value);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-delay\n\n\n  proto.delay = function delay(value) {\n    return this.out(\"-delay\", value);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-displace\n\n\n  proto.displace = function displace(horizontalScale, verticalScale) {\n    return this.out(\"-displace\", horizontalScale + 'x' + verticalScale);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-display\n\n\n  proto.display = function display(value) {\n    return this.out(\"-display\", value);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-dispose\n\n\n  proto.dispose = function dispose(method) {\n    return this.out(\"-dispose\", method);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-dissolve\n\n\n  proto.dissolve = function dissolve(percent) {\n    return this.out(\"-dissolve\", percent + '%');\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-encoding\n\n\n  proto.encoding = function encoding(type) {\n    return this.out(\"-encoding\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-endian\n\n\n  proto.endian = function endian(type) {\n    return this.out(\"-endian\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-file\n\n\n  proto.file = function file(filename) {\n    return this.out(\"-file\", filename);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-flatten\n\n\n  proto.flatten = function flatten() {\n    return this.out(\"-flatten\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-foreground\n\n\n  proto.foreground = function foreground(color) {\n    return this.out(\"-foreground\", color);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-frame\n\n\n  proto.frame = function frame(width, height, outerBevelWidth, innerBevelWidth) {\n    if (arguments.length == 0) return this.out(\"-frame\");\n    return this.out(\"-frame\", width + 'x' + height + '+' + outerBevelWidth + '+' + innerBevelWidth);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-fuzz\n\n\n  proto.fuzz = function fuzz(distance, percent) {\n    return this.out(\"-fuzz\", distance + (percent ? '%' : ''));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-gaussian\n\n\n  proto.gaussian = function gaussian(radius, sigma) {\n    return this.out(\"-gaussian\", argsToArray(radius, sigma).join('x'));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-geometry\n\n\n  proto.geometry = function geometry(width, height, arg) {\n    // If the first argument is a string, and there is only one argument, this is a custom geometry command.\n    if (arguments.length == 1 && typeof arguments[0] === \"string\") return this.out(\"-geometry\", arguments[0]); // Otherwise, return a resizing geometry command with an option alrgument.\n\n    return this.out(\"-geometry\", width + 'x' + height + (arg || ''));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-green-primary\n\n\n  proto.greenPrimary = function greenPrimary(x, y) {\n    return this.out(\"-green-primary\", x + ',' + y);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-highlight-color\n\n\n  proto.highlightColor = function highlightColor(color) {\n    return this.out(\"-highlight-color\", color);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-highlight-style\n\n\n  proto.highlightStyle = function highlightStyle(style) {\n    return this.out(\"-highlight-style\", style);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-iconGeometry\n\n\n  proto.iconGeometry = function iconGeometry(geometry) {\n    return this.out(\"-iconGeometry\", geometry);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-intent\n\n\n  proto.intent = function intent(type) {\n    return this.out(\"-intent\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-lat\n\n\n  proto.lat = function lat(width, height, offset, percent) {\n    return this.out(\"-lat\", width + 'x' + height + offset + (percent ? '%' : ''));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-level\n\n\n  proto.level = function level(blackPoint, gamma, whitePoint, percent) {\n    return this.out(\"-level\", argsToArray(blackPoint, gamma, whitePoint).join(',') + (percent ? '%' : ''));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-list\n\n\n  proto.list = function list(type) {\n    return this.out(\"-list\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-log\n\n\n  proto.log = function log(string) {\n    return this.out(\"-log\", string);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-loop\n\n\n  proto.loop = function loop(iterations) {\n    return this.out(\"-loop\", iterations);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-map\n\n\n  proto.map = function map(filename) {\n    return this.out(\"-map\", filename);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-mask\n\n\n  proto.mask = function mask(filename) {\n    return this.out(\"-mask\", filename);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-matte\n\n\n  proto.matte = function matte() {\n    return this.out(\"-matte\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-mattecolor\n\n\n  proto.matteColor = function matteColor(color) {\n    return this.out(\"-mattecolor\", color);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-maximum-error\n\n\n  proto.maximumError = function maximumError(limit) {\n    return this.out(\"-maximum-error\", limit);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-mode\n\n\n  proto.mode = function mode(value) {\n    return this.out(\"-mode\", value);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-monitor\n\n\n  proto.monitor = function monitor() {\n    return this.out(\"-monitor\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-mosaic\n\n\n  proto.mosaic = function mosaic() {\n    return this.out(\"-mosaic\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-motion-blur\n\n\n  proto.motionBlur = function motionBlur(radius, sigma, angle) {\n    var arg = radius;\n    if (typeof sigma != 'undefined') arg += 'x' + sigma;\n    if (typeof angle != 'undefined') arg += '+' + angle;\n    return this.out(\"-motion-blur\", arg);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-name\n\n\n  proto.name = function name() {\n    return this.out(\"-name\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-noop\n\n\n  proto.noop = function noop() {\n    return this.out(\"-noop\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-normalize\n\n\n  proto.normalize = function normalize() {\n    return this.out(\"-normalize\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-opaque\n\n\n  proto.opaque = function opaque(color) {\n    return this.out(\"-opaque\", color);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-operator\n\n\n  proto.operator = function operator(channel, operator, rvalue, percent) {\n    return this.out(\"-operator\", channel, operator, rvalue + (percent ? '%' : ''));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-ordered-dither\n\n\n  proto.orderedDither = function orderedDither(channeltype, NxN) {\n    return this.out(\"-ordered-dither\", channeltype, NxN);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-output-directory\n\n\n  proto.outputDirectory = function outputDirectory(directory) {\n    return this.out(\"-output-directory\", directory);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-page\n\n\n  proto.page = function page(width, height, arg) {\n    return this.out(\"-page\", width + 'x' + height + (arg || ''));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-pause\n\n\n  proto.pause = function pause(seconds) {\n    return this.out(\"-pause\", seconds);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-pen\n\n\n  proto.pen = function pen(color) {\n    return this.out(\"-pen\", color);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-ping\n\n\n  proto.ping = function ping() {\n    return this.out(\"-ping\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-pointsize\n\n\n  proto.pointSize = function pointSize(value) {\n    return this.out(\"-pointsize\", value);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-preview\n\n\n  proto.preview = function preview(type) {\n    return this.out(\"-preview\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-process\n\n\n  proto.process = function process(command) {\n    return this.out(\"-process\", command);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-profile\n\n\n  proto.profile = function profile(filename) {\n    return this.out(\"-profile\", filename);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-progress\n\n\n  proto.progress = function progress() {\n    return this.out(\"+progress\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-random-threshold\n\n\n  proto.randomThreshold = function randomThreshold(channeltype, LOWxHIGH) {\n    return this.out(\"-random-threshold\", channeltype, LOWxHIGH);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-recolor\n\n\n  proto.recolor = function recolor(matrix) {\n    return this.out(\"-recolor\", matrix);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-red-primary\n\n\n  proto.redPrimary = function redPrimary(x, y) {\n    return this.out(\"-red-primary\", x, y);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-remote\n\n\n  proto.remote = function remote() {\n    return this.out(\"-remote\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-render\n\n\n  proto.render = function render() {\n    return this.out(\"-render\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-repage\n\n\n  proto.repage = function repage(width, height, xoff, yoff, arg) {\n    if (arguments[0] === \"+\") return this.out(\"+repage\");\n    return this.out(\"-repage\", width + 'x' + height + '+' + xoff + '+' + yoff + (arg || ''));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-sample\n\n\n  proto.sample = function sample(geometry) {\n    return this.out(\"-sample\", geometry);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-sampling-factor\n\n\n  proto.samplingFactor = function samplingFactor(horizontalFactor, verticalFactor) {\n    return this.out(\"-sampling-factor\", horizontalFactor + 'x' + verticalFactor);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-scene\n\n\n  proto.scene = function scene(value) {\n    return this.out(\"-scene\", value);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-scenes\n\n\n  proto.scenes = function scenes(start, end) {\n    return this.out(\"-scenes\", start + '-' + end);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-screen\n\n\n  proto.screen = function screen() {\n    return this.out(\"-screen\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-set\n\n\n  proto.set = function set(attribute, value) {\n    return this.out(\"-set\", attribute, value);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-segment\n\n\n  proto.segment = function segment(clusterThreshold, smoothingThreshold) {\n    return this.out(\"-segment\", clusterThreshold + 'x' + smoothingThreshold);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-shade\n\n\n  proto.shade = function shade(azimuth, elevation) {\n    return this.out(\"-shade\", azimuth + 'x' + elevation);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-shadow\n\n\n  proto.shadow = function shadow(radius, sigma) {\n    return this.out(\"-shadow\", argsToArray(radius, sigma).join('x'));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-shared-memory\n\n\n  proto.sharedMemory = function sharedMemory() {\n    return this.out(\"-shared-memory\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-shave\n\n\n  proto.shave = function shave(width, height, percent) {\n    return this.out(\"-shave\", width + 'x' + height + (percent ? '%' : ''));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-shear\n\n\n  proto.shear = function shear(xDegrees, yDegreees) {\n    return this.out(\"-shear\", xDegrees + 'x' + yDegreees);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-silent\n\n\n  proto.silent = function silent(color) {\n    return this.out(\"-silent\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-size\n\n\n  proto.rawSize = function rawSize(width, height, offset) {\n    var off = 'undefined' != typeof offset ? '+' + offset : '';\n    return this.out(\"-size\", width + 'x' + height + off);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-snaps\n\n\n  proto.snaps = function snaps(value) {\n    return this.out(\"-snaps\", value);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-stegano\n\n\n  proto.stegano = function stegano(offset) {\n    return this.out(\"-stegano\", offset);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-stereo\n\n\n  proto.stereo = function stereo() {\n    return this.out(\"-stereo\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-text-font\n\n\n  proto.textFont = function textFont(name) {\n    return this.out(\"-text-font\", name);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-texture\n\n\n  proto.texture = function texture(filename) {\n    return this.out(\"-texture\", filename);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-threshold\n\n\n  proto.threshold = function threshold(value, percent) {\n    return this.out(\"-threshold\", value + (percent ? '%' : ''));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-thumbnail\n\n\n  proto.thumbnail = function thumbnail(w, h, options) {\n    options = options || \"\";\n    var geometry,\n        wIsValid = Boolean(w || w === 0),\n        hIsValid = Boolean(h || h === 0);\n\n    if (wIsValid && hIsValid) {\n      geometry = w + \"x\" + h + options;\n    } else if (wIsValid) {\n      // GraphicsMagick requires <width>x<options>, ImageMagick requires <width><options>\n      geometry = this._options.imageMagick ? w + options : w + 'x' + options;\n    } else if (hIsValid) {\n      geometry = 'x' + h + options;\n    } else {\n      return this;\n    }\n\n    return this.out(\"-thumbnail\", geometry);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-tile\n\n\n  proto.tile = function tile(filename) {\n    return this.out(\"-tile\", filename);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-title\n\n\n  proto.title = function title(string) {\n    return this.out(\"-title\", string);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-transform\n\n\n  proto.transform = function transform(color) {\n    return this.out(\"-transform\", color);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-transparent\n\n\n  proto.transparent = function transparent(color) {\n    return this.out(\"-transparent\", color);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-treedepth\n\n\n  proto.treeDepth = function treeDepth(value) {\n    return this.out(\"-treedepth\", value);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-update\n\n\n  proto.update = function update(seconds) {\n    return this.out(\"-update\", seconds);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-units\n\n\n  proto.units = function units(type) {\n    return this.out(\"-units\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-unsharp\n\n\n  proto.unsharp = function unsharp(radius, sigma, amount, threshold) {\n    var arg = radius;\n    if (typeof sigma != 'undefined') arg += 'x' + sigma;\n    if (typeof amount != 'undefined') arg += '+' + amount;\n    if (typeof threshold != 'undefined') arg += '+' + threshold;\n    return this.out(\"-unsharp\", arg);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-use-pixmap\n\n\n  proto.usePixmap = function usePixmap() {\n    return this.out(\"-use-pixmap\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-view\n\n\n  proto.view = function view(string) {\n    return this.out(\"-view\", string);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-virtual-pixel\n\n\n  proto.virtualPixel = function virtualPixel(method) {\n    return this.out(\"-virtual-pixel\", method);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-visual\n\n\n  proto.visual = function visual(type) {\n    return this.out(\"-visual\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-watermark\n\n\n  proto.watermark = function watermark(brightness, saturation) {\n    return this.out(\"-watermark\", brightness + 'x' + saturation);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-wave\n\n\n  proto.wave = function wave(amplitude, wavelength) {\n    return this.out(\"-wave\", amplitude + 'x' + wavelength);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-white-point\n\n\n  proto.whitePoint = function whitePoint(x, y) {\n    return this.out(\"-white-point\", x + 'x' + y);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-white-threshold\n\n\n  proto.whiteThreshold = function whiteThreshold(red, green, blue, opacity) {\n    return this.out(\"-white-threshold\", argsToArray(red, green, blue, opacity).join(','));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-window\n\n\n  proto.window = function window(id) {\n    return this.out(\"-window\", id);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-window-group\n\n\n  proto.windowGroup = function windowGroup() {\n    return this.out(\"-window-group\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-strip (graphicsMagick >= 1.3.15)\n\n\n  proto.strip = function strip() {\n    if (this._options.imageMagick) return this.out(\"-strip\");\n    return this.noProfile().out(\"+comment\"); //Equivalent to \"-strip\" for all versions of graphicsMagick\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-interlace\n\n\n  proto.interlace = function interlace(type) {\n    return this.out(\"-interlace\", type || \"None\");\n  }; // force output format\n\n\n  proto.setFormat = function setFormat(format) {\n    if (format) this._outputFormat = format;\n    return this;\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-resize\n\n\n  proto.resize = function resize(w, h, options) {\n    options = options || \"\";\n    var geometry,\n        wIsValid = Boolean(w || w === 0),\n        hIsValid = Boolean(h || h === 0);\n\n    if (wIsValid && hIsValid) {\n      geometry = w + \"x\" + h + options;\n    } else if (wIsValid) {\n      // GraphicsMagick requires <width>x<options>, ImageMagick requires <width><options>\n      geometry = this._options.imageMagick ? w + options : w + 'x' + options;\n    } else if (hIsValid) {\n      geometry = 'x' + h + options;\n    } else {\n      return this;\n    }\n\n    return this.out(\"-resize\", geometry);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-resize with '!' option\n\n\n  proto.resizeExact = function resize(w, h) {\n    var options = \"!\";\n    return proto.resize.apply(this, [w, h, options]);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-scale\n\n\n  proto.scale = function scale(w, h, options) {\n    options = options || \"\";\n    var geometry;\n\n    if (w && h) {\n      geometry = w + \"x\" + h + options;\n    } else if (w && !h) {\n      geometry = this._options.imageMagick ? w + options : w + 'x' + options;\n    } else if (!w && h) {\n      geometry = 'x' + h + options;\n    }\n\n    return this.out(\"-scale\", geometry);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-filter\n\n\n  proto.filter = function filter(val) {\n    return this.out(\"-filter\", val);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-density\n\n\n  proto.density = function density(w, h) {\n    if (w && !h && this._options.imageMagick) {\n      // GraphicsMagick requires <width>x<height>y, ImageMagick may take dpi<resolution>\n      // recommended 300dpi for higher quality\n      return this.in(\"-density\", w);\n    }\n\n    return this.in(\"-density\", w + \"x\" + h);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-profile\n\n\n  proto.noProfile = function noProfile() {\n    this.out('+profile', '\"*\"');\n    return this;\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-resample\n\n\n  proto.resample = function resample(w, h) {\n    return this.out(\"-resample\", w + \"x\" + h);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-rotate\n\n\n  proto.rotate = function rotate(color, deg) {\n    return this.out(\"-background\", color, \"-rotate\", String(deg || 0));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-flip\n\n\n  proto.flip = function flip() {\n    return this.out(\"-flip\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-flop\n\n\n  proto.flop = function flop() {\n    return this.out(\"-flop\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-crop\n\n\n  proto.crop = function crop(w, h, x, y, percent) {\n    if (this.inputIs('jpg')) {\n      // avoid error \"geometry does not contain image (unable to crop image)\" - gh-17\n      var index = this._in.indexOf('-size');\n\n      if (~index) {\n        this._in.splice(index, 2);\n      }\n    }\n\n    return this.out(\"-crop\", w + \"x\" + h + \"+\" + (x || 0) + \"+\" + (y || 0) + (percent ? '%' : ''));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-magnify\n\n\n  proto.magnify = function magnify(factor) {\n    return this.in(\"-magnify\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html\n\n\n  proto.minify = function minify() {\n    return this.in(\"-minify\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-quality\n\n\n  proto.quality = function quality(val) {\n    return this.in(\"-quality\", val || 75);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-blur\n\n\n  proto.blur = function blur(radius, sigma) {\n    return this.out(\"-blur\", radius + (sigma ? \"x\" + sigma : \"\"));\n  }; // http://www.graphicsmagick.org/convert.html\n\n\n  proto.charcoal = function charcoal(factor) {\n    return this.out(\"-charcoal\", factor || 2);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-modulate\n\n\n  proto.modulate = function modulate(b, s, h) {\n    return this.out(\"-modulate\", [b, s, h].join(\",\"));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-antialias\n  // note: antialiasing is enabled by default\n\n\n  proto.antialias = function antialias(disable) {\n    return false === disable ? this.out(\"+antialias\") : this;\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-depth\n\n\n  proto.bitdepth = function bitdepth(val) {\n    return this.out(\"-depth\", val);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-colors\n\n\n  proto.colors = function colors(val) {\n    return this.out(\"-colors\", val || 128);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-colorspace\n\n\n  proto.colorspace = function colorspace(val) {\n    return this.out(\"-colorspace\", val);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-comment\n\n\n  proto.comment = comment(\"-comment\"); // http://www.graphicsmagick.org/GraphicsMagick.html#details-contrast\n\n  proto.contrast = function contrast(mult) {\n    var arg = (parseInt(mult, 10) || 0) > 0 ? \"+contrast\" : \"-contrast\";\n    mult = Math.abs(mult) || 1;\n\n    while (mult--) {\n      this.out(arg);\n    }\n\n    return this;\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-cycle\n\n\n  proto.cycle = function cycle(amount) {\n    return this.out(\"-cycle\", amount || 2);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html\n\n\n  proto.despeckle = function despeckle() {\n    return this.out(\"-despeckle\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-dither\n  // note: either colors() or monochrome() must be used for this\n  // to take effect.\n\n\n  proto.dither = function dither(on) {\n    var sign = false === on ? \"+\" : \"-\";\n    return this.out(sign + \"dither\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html\n\n\n  proto.monochrome = function monochrome() {\n    return this.out(\"-monochrome\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html\n\n\n  proto.edge = function edge(radius) {\n    return this.out(\"-edge\", radius || 1);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html\n\n\n  proto.emboss = function emboss(radius) {\n    return this.out(\"-emboss\", radius || 1);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html\n\n\n  proto.enhance = function enhance() {\n    return this.out(\"-enhance\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html\n\n\n  proto.equalize = function equalize() {\n    return this.out(\"-equalize\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-gamma\n\n\n  proto.gamma = function gamma(r, g, b) {\n    return this.out(\"-gamma\", [r, g, b].join());\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html\n\n\n  proto.implode = function implode(factor) {\n    return this.out(\"-implode\", factor || 1);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-comment\n\n\n  proto.label = comment(\"-label\");\n  var limits = [\"disk\", \"file\", \"map\", \"memory\", \"pixels\", \"threads\"]; // http://www.graphicsmagick.org/GraphicsMagick.html#details-limit\n\n  proto.limit = function limit(type, val) {\n    type = type.toLowerCase();\n\n    if (!~limits.indexOf(type)) {\n      return this;\n    }\n\n    return this.out(\"-limit\", type, val);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html\n\n\n  proto.median = function median(radius) {\n    return this.out(\"-median\", radius || 1);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-negate\n\n\n  proto.negative = function negative(grayscale) {\n    var sign = grayscale ? \"+\" : \"-\";\n    return this.out(sign + \"negate\");\n  };\n\n  var noises = [\"uniform\", \"gaussian\", \"multiplicative\", \"impulse\", \"laplacian\", \"poisson\"]; // http://www.graphicsmagick.org/GraphicsMagick.html#details-noise\n\n  proto.noise = function noise(radius) {\n    radius = String(radius).toLowerCase();\n    var sign = ~noises.indexOf(radius) ? \"+\" : \"-\";\n    return this.out(sign + \"noise\", radius);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-paint\n\n\n  proto.paint = function paint(radius) {\n    return this.out(\"-paint\", radius);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-raise\n\n\n  proto.raise = function raise(w, h) {\n    return this.out(\"-raise\", (w || 0) + \"x\" + (h || 0));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-raise\n\n\n  proto.lower = function lower(w, h) {\n    return this.out(\"+raise\", (w || 0) + \"x\" + (h || 0));\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-region\n\n\n  proto.region = function region(w, h, x, y) {\n    w = w || 0;\n    h = h || 0;\n    x = x || 0;\n    y = y || 0;\n    return this.out(\"-region\", w + \"x\" + h + \"+\" + x + \"+\" + y);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-roll\n\n\n  proto.roll = function roll(x, y) {\n    x = ((x = parseInt(x, 10) || 0) >= 0 ? \"+\" : \"\") + x;\n    y = ((y = parseInt(y, 10) || 0) >= 0 ? \"+\" : \"\") + y;\n    return this.out(\"-roll\", x + y);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-sharpen\n\n\n  proto.sharpen = function sharpen(radius, sigma) {\n    sigma = sigma ? \"x\" + sigma : \"\";\n    return this.out(\"-sharpen\", radius + sigma);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-solarize\n\n\n  proto.solarize = function solarize(factor) {\n    return this.out(\"-solarize\", (factor || 1) + \"%\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-spread\n\n\n  proto.spread = function spread(amount) {\n    return this.out(\"-spread\", amount || 5);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-swirl\n\n\n  proto.swirl = function swirl(degrees) {\n    return this.out(\"-swirl\", degrees || 180);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-type\n\n\n  proto.type = function type(type) {\n    return this.in(\"-type\", type);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-trim\n\n\n  proto.trim = function trim() {\n    return this.out(\"-trim\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-extent\n\n\n  proto.extent = function extent(w, h, options) {\n    options = options || \"\";\n    var geometry;\n\n    if (w && h) {\n      geometry = w + \"x\" + h + options;\n    } else if (w && !h) {\n      geometry = this._options.imageMagick ? w + options : w + 'x' + options;\n    } else if (!w && h) {\n      geometry = 'x' + h + options;\n    }\n\n    return this.out(\"-extent\", geometry);\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-gravity\n  // Be sure to use gravity BEFORE extent\n\n\n  proto.gravity = function gravity(type) {\n    if (!type || !~gravity.types.indexOf(type)) {\n      type = \"NorthWest\"; // Documented default.\n    }\n\n    return this.out(\"-gravity\", type);\n  };\n\n  proto.gravity.types = [\"NorthWest\", \"North\", \"NorthEast\", \"West\", \"Center\", \"East\", \"SouthWest\", \"South\", \"SouthEast\"]; // http://www.graphicsmagick.org/GraphicsMagick.html#details-flatten\n\n  proto.flatten = function flatten() {\n    return this.out(\"-flatten\");\n  }; // http://www.graphicsmagick.org/GraphicsMagick.html#details-background\n\n\n  proto.background = function background(color) {\n    return this.in(\"-background\", color);\n  };\n};\n/**\n * Generates a handler for comments/labels.\n */\n\n\nfunction comment(arg) {\n  return function (format) {\n    format = String(format);\n    format = \"@\" == format.charAt(0) ? format.substring(1) : format;\n    return this.out(arg, '\"' + format + '\"');\n  };\n}","map":{"version":3,"sources":["/home/a/Documents/GitHub/react-ts-project/node_modules/gm/lib/args.js"],"names":["argsToArray","require","isUtil","module","exports","proto","selectFrame","frame","sourceFrames","command","subCommand","name","_subCommand","adjoin","out","affine","matrix","alpha","type","_options","imageMagick","Error","append","img","ltr","_append","addSrcFormatter","src","push","apply","arguments","length","i","arg","j","len","authenticate","string","average","backdrop","blackThreshold","red","green","blue","opacity","join","bluePrimary","x","y","border","width","height","borderColor","color","box","channel","chop","w","h","in","clip","coalesce","colorize","r","g","b","colorMap","compose","operator","compress","convolve","kernel","createDirectories","deconstruct","define","value","delay","displace","horizontalScale","verticalScale","display","dispose","method","dissolve","percent","encoding","endian","file","filename","flatten","foreground","outerBevelWidth","innerBevelWidth","fuzz","distance","gaussian","radius","sigma","geometry","greenPrimary","highlightColor","highlightStyle","style","iconGeometry","intent","lat","offset","level","blackPoint","gamma","whitePoint","list","log","loop","iterations","map","mask","matte","matteColor","maximumError","limit","mode","monitor","mosaic","motionBlur","angle","noop","normalize","opaque","rvalue","orderedDither","channeltype","NxN","outputDirectory","directory","page","pause","seconds","pen","ping","pointSize","preview","process","profile","progress","randomThreshold","LOWxHIGH","recolor","redPrimary","remote","render","repage","xoff","yoff","sample","samplingFactor","horizontalFactor","verticalFactor","scene","scenes","start","end","screen","set","attribute","segment","clusterThreshold","smoothingThreshold","shade","azimuth","elevation","shadow","sharedMemory","shave","shear","xDegrees","yDegreees","silent","rawSize","off","snaps","stegano","stereo","textFont","texture","threshold","thumbnail","options","wIsValid","Boolean","hIsValid","tile","title","transform","transparent","treeDepth","update","units","unsharp","amount","usePixmap","view","virtualPixel","visual","watermark","brightness","saturation","wave","amplitude","wavelength","whiteThreshold","window","id","windowGroup","strip","noProfile","interlace","setFormat","format","_outputFormat","resize","resizeExact","scale","filter","val","density","resample","rotate","deg","String","flip","flop","crop","inputIs","index","_in","indexOf","splice","magnify","factor","minify","quality","blur","charcoal","modulate","s","antialias","disable","bitdepth","colors","colorspace","comment","contrast","mult","parseInt","Math","abs","cycle","despeckle","dither","on","sign","monochrome","edge","emboss","enhance","equalize","implode","label","limits","toLowerCase","median","negative","grayscale","noises","noise","paint","raise","lower","region","roll","sharpen","solarize","spread","swirl","degrees","trim","extent","gravity","types","background","charAt","substring"],"mappings":"AAAA;AACA;AACA;AAEA,IAAIA,WAAW,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBD,WAArC;;AACA,IAAIE,MAAM,GAAGD,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAhC;AACA;AACA;AACA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,KAAV,EAAiB;AAChC;AACA;AACAA,EAAAA,KAAK,CAACC,WAAN,GAAoB,UAAUC,KAAV,EAAiB;AACnC,QAAI,OAAOA,KAAP,KAAiB,QAArB,EACE,KAAKC,YAAL,GAAoB,MAAMD,KAAN,GAAc,GAAlC;AACF,WAAO,IAAP;AACD,GAJD,CAHgC,CAShC;;;AACAF,EAAAA,KAAK,CAACI,OAAN,GAAgBJ,KAAK,CAACK,UAAN,GAAmB,SAASA,UAAT,CAAqBC,IAArB,EAA0B;AAC3D,SAAKC,WAAL,GAAmBD,IAAnB;AACA,WAAO,IAAP;AACD,GAHD,CAVgC,CAehC;;;AACAN,EAAAA,KAAK,CAACQ,MAAN,GAAe,SAASA,MAAT,GAAmB;AAChC,WAAO,KAAKC,GAAL,CAAS,SAAT,CAAP;AACD,GAFD,CAhBgC,CAoBhC;;;AACAT,EAAAA,KAAK,CAACU,MAAN,GAAe,SAASA,MAAT,CAAiBC,MAAjB,EAAyB;AACtC,WAAO,KAAKF,GAAL,CAAS,SAAT,EAAoBE,MAApB,CAAP;AACD,GAFD;;AAIAX,EAAAA,KAAK,CAACY,KAAN,GAAc,SAASA,KAAT,CAAgBC,IAAhB,EAAsB;AAClC,QAAI,CAAC,KAAKC,QAAL,CAAcC,WAAnB,EAAgC,OAAO,IAAIC,KAAJ,CAAU,kDAAV,CAAP;AAChC,WAAO,KAAKP,GAAL,CAAS,QAAT,EAAmBI,IAAnB,CAAP;AACD,GAHD;AAKA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGEb,EAAAA,KAAK,CAACiB,MAAN,GAAe,SAASA,MAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;AACxC,QAAI,CAAC,KAAKC,OAAV,EAAmB;AACjB,WAAKA,OAAL,GAAe,EAAf;AACA,WAAKC,eAAL,CAAqB,UAAUC,GAAV,EAAe;AAClC,aAAKb,GAAL,CAAS,KAAKW,OAAL,CAAaD,GAAb,GAAmB,SAAnB,GAA+B,SAAxC;AACAG,QAAAA,GAAG,CAACC,IAAJ,CAASC,KAAT,CAAeF,GAAf,EAAoB,KAAKF,OAAzB;AACD,OAHD;AAID;;AAED,QAAI,MAAMK,SAAS,CAACC,MAApB,EAA4B;AAC1B,WAAKN,OAAL,CAAaD,GAAb,GAAmB,KAAnB;AACA,aAAO,IAAP;AACD;;AAED,SAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,SAAS,CAACC,MAA9B,EAAsC,EAAEC,CAAxC,EAA2C;AACzC,UAAIC,GAAG,GAAGH,SAAS,CAACE,CAAD,CAAnB;;AACA,cAAQ9B,MAAM,CAAC+B,GAAD,CAAd;AACE,aAAK,SAAL;AACE,eAAKR,OAAL,CAAaD,GAAb,GAAmBS,GAAnB;AACA;;AACF,aAAK,QAAL;AACE,eAAKR,OAAL,CAAaG,IAAb,CAAkBK,GAAlB;;AACA;;AACF,aAAK,OAAL;AACE,eAAI,IAAIC,CAAC,GAAC,CAAN,EAAQC,GAAG,GAACF,GAAG,CAACF,MAApB,EAA2BG,CAAC,GAACC,GAA7B,EAAiCD,CAAC,EAAlC,EAAqC;AACnC,gBAAGhC,MAAM,CAAC+B,GAAG,CAACC,CAAD,CAAJ,CAAN,IAAkB,QAArB,EAA8B;AAC5B,mBAAKT,OAAL,CAAaG,IAAb,CAAkBK,GAAG,CAACC,CAAD,CAArB;AACD;AACF;;AACD;AAbJ;AAeD;;AAED,WAAO,IAAP;AACD,GAlCD,CAxDgC,CA4FhC;;;AACA7B,EAAAA,KAAK,CAAC+B,YAAN,GAAqB,SAASA,YAAT,CAAuBC,MAAvB,EAA+B;AAClD,WAAO,KAAKvB,GAAL,CAAS,eAAT,EAA0BuB,MAA1B,CAAP;AACD,GAFD,CA7FgC,CAiGhC;;;AACAhC,EAAAA,KAAK,CAACiC,OAAN,GAAgB,SAASA,OAAT,GAAoB;AAClC,WAAO,KAAKxB,GAAL,CAAS,UAAT,CAAP;AACD,GAFD,CAlGgC,CAsGhC;;;AACAT,EAAAA,KAAK,CAACkC,QAAN,GAAiB,SAASA,QAAT,GAAqB;AACpC,WAAO,KAAKzB,GAAL,CAAS,WAAT,CAAP;AACD,GAFD,CAvGgC,CA2GhC;;;AACAT,EAAAA,KAAK,CAACmC,cAAN,GAAuB,SAASA,cAAT,CAAyBC,GAAzB,EAA8BC,KAA9B,EAAqCC,IAArC,EAA2CC,OAA3C,EAAoD;AACzE,WAAO,KAAK9B,GAAL,CAAS,kBAAT,EAA6Bd,WAAW,CAACyC,GAAD,EAAMC,KAAN,EAAaC,IAAb,EAAmBC,OAAnB,CAAX,CAAuCC,IAAvC,CAA4C,GAA5C,CAA7B,CAAP;AACD,GAFD,CA5GgC,CAgHhC;;;AACAxC,EAAAA,KAAK,CAACyC,WAAN,GAAoB,SAASA,WAAT,CAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;AAC9C,WAAO,KAAKlC,GAAL,CAAS,eAAT,EAA0Bd,WAAW,CAAC+C,CAAD,EAAIC,CAAJ,CAAX,CAAkBH,IAAlB,CAAuB,GAAvB,CAA1B,CAAP;AACD,GAFD,CAjHgC,CAqHhC;;;AACAxC,EAAAA,KAAK,CAAC4C,MAAN,GAAe,SAASA,MAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;AAC7C,WAAO,KAAKrC,GAAL,CAAS,SAAT,EAAoBoC,KAAK,GAAC,GAAN,GAAUC,MAA9B,CAAP;AACD,GAFD,CAtHgC,CA0HhC;;;AACA9C,EAAAA,KAAK,CAAC+C,WAAN,GAAoB,SAASA,WAAT,CAAsBC,KAAtB,EAA6B;AAC/C,WAAO,KAAKvC,GAAL,CAAS,cAAT,EAAyBuC,KAAzB,CAAP;AACD,GAFD,CA3HgC,CA+HhC;;;AACAhD,EAAAA,KAAK,CAACiD,GAAN,GAAY,SAASA,GAAT,CAAcD,KAAd,EAAqB;AAC/B,WAAO,KAAKvC,GAAL,CAAS,MAAT,EAAiBuC,KAAjB,CAAP;AACD,GAFD,CAhIgC,CAoIhC;;;AACAhD,EAAAA,KAAK,CAACkD,OAAN,GAAgB,SAASA,OAAT,CAAkBrC,IAAlB,EAAwB;AACtC,WAAO,KAAKJ,GAAL,CAAS,UAAT,EAAqBI,IAArB,CAAP;AACD,GAFD,CArIgC,CAyIhC;;;AACAb,EAAAA,KAAK,CAACmD,IAAN,GAAa,SAASA,IAAT,CAAeC,CAAf,EAAkBC,CAAlB,EAAqBX,CAArB,EAAwBC,CAAxB,EAA2B;AACtC,WAAO,KAAKW,EAAL,CAAQ,OAAR,EAAiBF,CAAC,GAAC,GAAF,GAAMC,CAAN,GAAU,GAAV,IAAeX,CAAC,IAAE,CAAlB,IAAqB,GAArB,IAA0BC,CAAC,IAAE,CAA7B,CAAjB,CAAP;AACD,GAFD,CA1IgC,CA8IhC;;;AACA3C,EAAAA,KAAK,CAACuD,IAAN,GAAa,SAASA,IAAT,GAAiB;AAC5B,WAAO,KAAK9C,GAAL,CAAS,OAAT,CAAP;AACD,GAFD,CA/IgC,CAmJhC;;;AACAT,EAAAA,KAAK,CAACwD,QAAN,GAAiB,SAASA,QAAT,GAAqB;AACpC,WAAO,KAAK/C,GAAL,CAAS,WAAT,CAAP;AACD,GAFD,CApJgC,CAwJhC;;;AACAT,EAAAA,KAAK,CAACyD,QAAN,GAAiB,SAASA,QAAT,CAAmBC,CAAnB,EAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;AAC3C,WAAO,KAAKnD,GAAL,CAAS,WAAT,EAAsB,CAACiD,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAQpB,IAAR,CAAa,GAAb,CAAtB,CAAP;AACD,GAFD,CAzJgC,CA6JhC;;;AACAxC,EAAAA,KAAK,CAAC6D,QAAN,GAAiB,SAASA,QAAT,CAAmBhD,IAAnB,EAAyB;AACxC,WAAO,KAAKJ,GAAL,CAAS,WAAT,EAAsBI,IAAtB,CAAP;AACD,GAFD,CA9JgC,CAkKhC;;;AACAb,EAAAA,KAAK,CAAC8D,OAAN,GAAgB,SAASA,OAAT,CAAkBC,QAAlB,EAA4B;AAC1C,WAAO,KAAKtD,GAAL,CAAS,UAAT,EAAqBsD,QAArB,CAAP;AACD,GAFD,CAnKgC,CAuKhC;;;AACA/D,EAAAA,KAAK,CAACgE,QAAN,GAAiB,SAASA,QAAT,CAAmBnD,IAAnB,EAAyB;AACxC,WAAO,KAAKJ,GAAL,CAAS,WAAT,EAAsBI,IAAtB,CAAP;AACD,GAFD,CAxKgC,CA4KhC;;;AACAb,EAAAA,KAAK,CAACiE,QAAN,GAAiB,SAASA,QAAT,CAAmBC,MAAnB,EAA2B;AAC1C,WAAO,KAAKzD,GAAL,CAAS,WAAT,EAAsByD,MAAtB,CAAP;AACD,GAFD,CA7KgC,CAiLhC;;;AACAlE,EAAAA,KAAK,CAACmE,iBAAN,GAA0B,SAASA,iBAAT,GAA8B;AACtD,WAAO,KAAK1D,GAAL,CAAS,qBAAT,CAAP;AACD,GAFD,CAlLgC,CAsLhC;;;AACAT,EAAAA,KAAK,CAACoE,WAAN,GAAoB,SAASA,WAAT,GAAwB;AAC1C,WAAO,KAAK3D,GAAL,CAAS,cAAT,CAAP;AACD,GAFD,CAvLgC,CA2LhC;;;AACAT,EAAAA,KAAK,CAACqE,MAAN,GAAe,SAASA,MAAT,CAAiBC,KAAjB,EAAwB;AACrC,WAAO,KAAK7D,GAAL,CAAS,SAAT,EAAoB6D,KAApB,CAAP;AACD,GAFD,CA5LgC,CAgMhC;;;AACAtE,EAAAA,KAAK,CAACuE,KAAN,GAAc,SAASA,KAAT,CAAgBD,KAAhB,EAAuB;AACnC,WAAO,KAAK7D,GAAL,CAAS,QAAT,EAAmB6D,KAAnB,CAAP;AACD,GAFD,CAjMgC,CAqMhC;;;AACAtE,EAAAA,KAAK,CAACwE,QAAN,GAAiB,SAASA,QAAT,CAAmBC,eAAnB,EAAoCC,aAApC,EAAmD;AAClE,WAAO,KAAKjE,GAAL,CAAS,WAAT,EAAsBgE,eAAe,GAAC,GAAhB,GAAoBC,aAA1C,CAAP;AACD,GAFD,CAtMgC,CA0MhC;;;AACA1E,EAAAA,KAAK,CAAC2E,OAAN,GAAgB,SAASA,OAAT,CAAkBL,KAAlB,EAAyB;AACvC,WAAO,KAAK7D,GAAL,CAAS,UAAT,EAAqB6D,KAArB,CAAP;AACD,GAFD,CA3MgC,CA+MhC;;;AACAtE,EAAAA,KAAK,CAAC4E,OAAN,GAAgB,SAASA,OAAT,CAAkBC,MAAlB,EAA0B;AACxC,WAAO,KAAKpE,GAAL,CAAS,UAAT,EAAqBoE,MAArB,CAAP;AACD,GAFD,CAhNgC,CAoNhC;;;AACA7E,EAAAA,KAAK,CAAC8E,QAAN,GAAiB,SAASA,QAAT,CAAmBC,OAAnB,EAA4B;AAC3C,WAAO,KAAKtE,GAAL,CAAS,WAAT,EAAsBsE,OAAO,GAAC,GAA9B,CAAP;AACD,GAFD,CArNgC,CAyNhC;;;AACA/E,EAAAA,KAAK,CAACgF,QAAN,GAAiB,SAASA,QAAT,CAAmBnE,IAAnB,EAAyB;AACxC,WAAO,KAAKJ,GAAL,CAAS,WAAT,EAAsBI,IAAtB,CAAP;AACD,GAFD,CA1NgC,CA8NhC;;;AACAb,EAAAA,KAAK,CAACiF,MAAN,GAAe,SAASA,MAAT,CAAiBpE,IAAjB,EAAuB;AACpC,WAAO,KAAKJ,GAAL,CAAS,SAAT,EAAoBI,IAApB,CAAP;AACD,GAFD,CA/NgC,CAmOhC;;;AACAb,EAAAA,KAAK,CAACkF,IAAN,GAAa,SAASA,IAAT,CAAeC,QAAf,EAAyB;AACpC,WAAO,KAAK1E,GAAL,CAAS,OAAT,EAAkB0E,QAAlB,CAAP;AACD,GAFD,CApOgC,CAwOhC;;;AACAnF,EAAAA,KAAK,CAACoF,OAAN,GAAgB,SAASA,OAAT,GAAoB;AAClC,WAAO,KAAK3E,GAAL,CAAS,UAAT,CAAP;AACD,GAFD,CAzOgC,CA6OhC;;;AACAT,EAAAA,KAAK,CAACqF,UAAN,GAAmB,SAASA,UAAT,CAAqBrC,KAArB,EAA4B;AAC7C,WAAO,KAAKvC,GAAL,CAAS,aAAT,EAAwBuC,KAAxB,CAAP;AACD,GAFD,CA9OgC,CAkPhC;;;AACAhD,EAAAA,KAAK,CAACE,KAAN,GAAc,SAASA,KAAT,CAAgB2C,KAAhB,EAAuBC,MAAvB,EAA+BwC,eAA/B,EAAgDC,eAAhD,EAAiE;AAC7E,QAAG9D,SAAS,CAACC,MAAV,IAAkB,CAArB,EAAwB,OAAO,KAAKjB,GAAL,CAAS,QAAT,CAAP;AACxB,WAAO,KAAKA,GAAL,CAAS,QAAT,EAAmBoC,KAAK,GAAC,GAAN,GAAUC,MAAV,GAAiB,GAAjB,GAAqBwC,eAArB,GAAqC,GAArC,GAAyCC,eAA5D,CAAP;AACD,GAHD,CAnPgC,CAwPhC;;;AACAvF,EAAAA,KAAK,CAACwF,IAAN,GAAa,SAASA,IAAT,CAAeC,QAAf,EAAyBV,OAAzB,EAAkC;AAC7C,WAAO,KAAKtE,GAAL,CAAS,OAAT,EAAkBgF,QAAQ,IAAEV,OAAO,GAAC,GAAD,GAAK,EAAd,CAA1B,CAAP;AACD,GAFD,CAzPgC,CA6PhC;;;AACA/E,EAAAA,KAAK,CAAC0F,QAAN,GAAiB,SAASA,QAAT,CAAmBC,MAAnB,EAA2BC,KAA3B,EAAkC;AACjD,WAAO,KAAKnF,GAAL,CAAS,WAAT,EAAsBd,WAAW,CAACgG,MAAD,EAASC,KAAT,CAAX,CAA2BpD,IAA3B,CAAgC,GAAhC,CAAtB,CAAP;AACD,GAFD,CA9PgC,CAkQhC;;;AACAxC,EAAAA,KAAK,CAAC6F,QAAN,GAAiB,SAASA,QAAT,CAAmBhD,KAAnB,EAA0BC,MAA1B,EAAkClB,GAAlC,EAAuC;AACtD;AACA,QAAGH,SAAS,CAACC,MAAV,IAAoB,CAApB,IAAyB,OAAOD,SAAS,CAAC,CAAD,CAAhB,KAAwB,QAApD,EACE,OAAO,KAAKhB,GAAL,CAAS,WAAT,EAAsBgB,SAAS,CAAC,CAAD,CAA/B,CAAP,CAHoD,CAKtD;;AACA,WAAO,KAAKhB,GAAL,CAAS,WAAT,EAAsBoC,KAAK,GAAC,GAAN,GAAUC,MAAV,IAAkBlB,GAAG,IAAE,EAAvB,CAAtB,CAAP;AACD,GAPD,CAnQgC,CA4QhC;;;AACA5B,EAAAA,KAAK,CAAC8F,YAAN,GAAqB,SAASA,YAAT,CAAuBpD,CAAvB,EAA0BC,CAA1B,EAA6B;AAChD,WAAO,KAAKlC,GAAL,CAAS,gBAAT,EAA2BiC,CAAC,GAAC,GAAF,GAAMC,CAAjC,CAAP;AACD,GAFD,CA7QgC,CAiRhC;;;AACA3C,EAAAA,KAAK,CAAC+F,cAAN,GAAuB,SAASA,cAAT,CAAyB/C,KAAzB,EAAgC;AACrD,WAAO,KAAKvC,GAAL,CAAS,kBAAT,EAA6BuC,KAA7B,CAAP;AACD,GAFD,CAlRgC,CAsRhC;;;AACAhD,EAAAA,KAAK,CAACgG,cAAN,GAAuB,SAASA,cAAT,CAAyBC,KAAzB,EAAgC;AACrD,WAAO,KAAKxF,GAAL,CAAS,kBAAT,EAA6BwF,KAA7B,CAAP;AACD,GAFD,CAvRgC,CA2RhC;;;AACAjG,EAAAA,KAAK,CAACkG,YAAN,GAAqB,SAASA,YAAT,CAAuBL,QAAvB,EAAiC;AACpD,WAAO,KAAKpF,GAAL,CAAS,eAAT,EAA0BoF,QAA1B,CAAP;AACD,GAFD,CA5RgC,CAgShC;;;AACA7F,EAAAA,KAAK,CAACmG,MAAN,GAAe,SAASA,MAAT,CAAiBtF,IAAjB,EAAuB;AACpC,WAAO,KAAKJ,GAAL,CAAS,SAAT,EAAoBI,IAApB,CAAP;AACD,GAFD,CAjSgC,CAqShC;;;AACAb,EAAAA,KAAK,CAACoG,GAAN,GAAY,SAASA,GAAT,CAAcvD,KAAd,EAAqBC,MAArB,EAA6BuD,MAA7B,EAAqCtB,OAArC,EAA8C;AACxD,WAAO,KAAKtE,GAAL,CAAS,MAAT,EAAiBoC,KAAK,GAAC,GAAN,GAAUC,MAAV,GAAiBuD,MAAjB,IAAyBtB,OAAO,GAAC,GAAD,GAAK,EAArC,CAAjB,CAAP;AACD,GAFD,CAtSgC,CA0ShC;;;AACA/E,EAAAA,KAAK,CAACsG,KAAN,GAAc,SAASA,KAAT,CAAgBC,UAAhB,EAA4BC,KAA5B,EAAmCC,UAAnC,EAA+C1B,OAA/C,EAAwD;AACpE,WAAO,KAAKtE,GAAL,CAAS,QAAT,EAAmBd,WAAW,CAAC4G,UAAD,EAAaC,KAAb,EAAoBC,UAApB,CAAX,CAA2CjE,IAA3C,CAAgD,GAAhD,KAAsDuC,OAAO,GAAC,GAAD,GAAK,EAAlE,CAAnB,CAAP;AACD,GAFD,CA3SgC,CA+ShC;;;AACA/E,EAAAA,KAAK,CAAC0G,IAAN,GAAa,SAASA,IAAT,CAAe7F,IAAf,EAAqB;AAChC,WAAO,KAAKJ,GAAL,CAAS,OAAT,EAAkBI,IAAlB,CAAP;AACD,GAFD,CAhTgC,CAoThC;;;AACAb,EAAAA,KAAK,CAAC2G,GAAN,GAAY,SAASA,GAAT,CAAc3E,MAAd,EAAsB;AAChC,WAAO,KAAKvB,GAAL,CAAS,MAAT,EAAiBuB,MAAjB,CAAP;AACD,GAFD,CArTgC,CAyThC;;;AACAhC,EAAAA,KAAK,CAAC4G,IAAN,GAAa,SAASA,IAAT,CAAeC,UAAf,EAA2B;AACtC,WAAO,KAAKpG,GAAL,CAAS,OAAT,EAAkBoG,UAAlB,CAAP;AACD,GAFD,CA1TgC,CA8ThC;;;AACA7G,EAAAA,KAAK,CAAC8G,GAAN,GAAY,SAASA,GAAT,CAAc3B,QAAd,EAAwB;AAClC,WAAO,KAAK1E,GAAL,CAAS,MAAT,EAAiB0E,QAAjB,CAAP;AACD,GAFD,CA/TgC,CAmUhC;;;AACAnF,EAAAA,KAAK,CAAC+G,IAAN,GAAa,SAASA,IAAT,CAAe5B,QAAf,EAAyB;AACpC,WAAO,KAAK1E,GAAL,CAAS,OAAT,EAAkB0E,QAAlB,CAAP;AACD,GAFD,CApUgC,CAwUhC;;;AACAnF,EAAAA,KAAK,CAACgH,KAAN,GAAc,SAASA,KAAT,GAAkB;AAC9B,WAAO,KAAKvG,GAAL,CAAS,QAAT,CAAP;AACD,GAFD,CAzUgC,CA6UhC;;;AACAT,EAAAA,KAAK,CAACiH,UAAN,GAAmB,SAASA,UAAT,CAAqBjE,KAArB,EAA4B;AAC7C,WAAO,KAAKvC,GAAL,CAAS,aAAT,EAAwBuC,KAAxB,CAAP;AACD,GAFD,CA9UgC,CAkVhC;;;AACAhD,EAAAA,KAAK,CAACkH,YAAN,GAAqB,SAASA,YAAT,CAAuBC,KAAvB,EAA8B;AACjD,WAAO,KAAK1G,GAAL,CAAS,gBAAT,EAA2B0G,KAA3B,CAAP;AACD,GAFD,CAnVgC,CAuVhC;;;AACAnH,EAAAA,KAAK,CAACoH,IAAN,GAAa,SAASA,IAAT,CAAe9C,KAAf,EAAsB;AACjC,WAAO,KAAK7D,GAAL,CAAS,OAAT,EAAkB6D,KAAlB,CAAP;AACD,GAFD,CAxVgC,CA4VhC;;;AACAtE,EAAAA,KAAK,CAACqH,OAAN,GAAgB,SAASA,OAAT,GAAoB;AAClC,WAAO,KAAK5G,GAAL,CAAS,UAAT,CAAP;AACD,GAFD,CA7VgC,CAiWhC;;;AACAT,EAAAA,KAAK,CAACsH,MAAN,GAAe,SAASA,MAAT,GAAmB;AAChC,WAAO,KAAK7G,GAAL,CAAS,SAAT,CAAP;AACD,GAFD,CAlWgC,CAsWhC;;;AACAT,EAAAA,KAAK,CAACuH,UAAN,GAAmB,SAASA,UAAT,CAAqB5B,MAArB,EAA6BC,KAA7B,EAAoC4B,KAApC,EAA2C;AAC5D,QAAI5F,GAAG,GAAC+D,MAAR;AACA,QAAI,OAAOC,KAAP,IAAc,WAAlB,EAA+BhE,GAAG,IAAE,MAAIgE,KAAT;AAC/B,QAAI,OAAO4B,KAAP,IAAc,WAAlB,EAA+B5F,GAAG,IAAE,MAAI4F,KAAT;AAC/B,WAAO,KAAK/G,GAAL,CAAS,cAAT,EAAyBmB,GAAzB,CAAP;AACD,GALD,CAvWgC,CA8WhC;;;AACA5B,EAAAA,KAAK,CAACM,IAAN,GAAa,SAASA,IAAT,GAAiB;AAC5B,WAAO,KAAKG,GAAL,CAAS,OAAT,CAAP;AACD,GAFD,CA/WgC,CAmXhC;;;AACAT,EAAAA,KAAK,CAACyH,IAAN,GAAa,SAASA,IAAT,GAAiB;AAC5B,WAAO,KAAKhH,GAAL,CAAS,OAAT,CAAP;AACD,GAFD,CApXgC,CAwXhC;;;AACAT,EAAAA,KAAK,CAAC0H,SAAN,GAAkB,SAASA,SAAT,GAAsB;AACtC,WAAO,KAAKjH,GAAL,CAAS,YAAT,CAAP;AACD,GAFD,CAzXgC,CA6XhC;;;AACAT,EAAAA,KAAK,CAAC2H,MAAN,GAAe,SAASA,MAAT,CAAiB3E,KAAjB,EAAwB;AACrC,WAAO,KAAKvC,GAAL,CAAS,SAAT,EAAoBuC,KAApB,CAAP;AACD,GAFD,CA9XgC,CAkYhC;;;AACAhD,EAAAA,KAAK,CAAC+D,QAAN,GAAiB,SAASA,QAAT,CAAmBb,OAAnB,EAA4Ba,QAA5B,EAAsC6D,MAAtC,EAA8C7C,OAA9C,EAAuD;AACtE,WAAO,KAAKtE,GAAL,CAAS,WAAT,EAAsByC,OAAtB,EAA+Ba,QAA/B,EAAyC6D,MAAM,IAAE7C,OAAO,GAAC,GAAD,GAAK,EAAd,CAA/C,CAAP;AACD,GAFD,CAnYgC,CAuYhC;;;AACA/E,EAAAA,KAAK,CAAC6H,aAAN,GAAsB,SAASA,aAAT,CAAwBC,WAAxB,EAAqCC,GAArC,EAA0C;AAC9D,WAAO,KAAKtH,GAAL,CAAS,iBAAT,EAA4BqH,WAA5B,EAAyCC,GAAzC,CAAP;AACD,GAFD,CAxYgC,CA4YhC;;;AACA/H,EAAAA,KAAK,CAACgI,eAAN,GAAwB,SAASA,eAAT,CAA0BC,SAA1B,EAAqC;AAC3D,WAAO,KAAKxH,GAAL,CAAS,mBAAT,EAA8BwH,SAA9B,CAAP;AACD,GAFD,CA7YgC,CAiZhC;;;AACAjI,EAAAA,KAAK,CAACkI,IAAN,GAAa,SAASA,IAAT,CAAerF,KAAf,EAAsBC,MAAtB,EAA8BlB,GAA9B,EAAmC;AAC9C,WAAO,KAAKnB,GAAL,CAAS,OAAT,EAAkBoC,KAAK,GAAC,GAAN,GAAUC,MAAV,IAAkBlB,GAAG,IAAE,EAAvB,CAAlB,CAAP;AACD,GAFD,CAlZgC,CAsZhC;;;AACA5B,EAAAA,KAAK,CAACmI,KAAN,GAAc,SAASA,KAAT,CAAgBC,OAAhB,EAAyB;AACrC,WAAO,KAAK3H,GAAL,CAAS,QAAT,EAAmB2H,OAAnB,CAAP;AACD,GAFD,CAvZgC,CA2ZhC;;;AACApI,EAAAA,KAAK,CAACqI,GAAN,GAAY,SAASA,GAAT,CAAcrF,KAAd,EAAqB;AAC/B,WAAO,KAAKvC,GAAL,CAAS,MAAT,EAAiBuC,KAAjB,CAAP;AACD,GAFD,CA5ZgC,CAgahC;;;AACAhD,EAAAA,KAAK,CAACsI,IAAN,GAAa,SAASA,IAAT,GAAiB;AAC5B,WAAO,KAAK7H,GAAL,CAAS,OAAT,CAAP;AACD,GAFD,CAjagC,CAqahC;;;AACAT,EAAAA,KAAK,CAACuI,SAAN,GAAkB,SAASA,SAAT,CAAoBjE,KAApB,EAA2B;AAC3C,WAAO,KAAK7D,GAAL,CAAS,YAAT,EAAuB6D,KAAvB,CAAP;AACD,GAFD,CAtagC,CA0ahC;;;AACAtE,EAAAA,KAAK,CAACwI,OAAN,GAAgB,SAASA,OAAT,CAAkB3H,IAAlB,EAAwB;AACtC,WAAO,KAAKJ,GAAL,CAAS,UAAT,EAAqBI,IAArB,CAAP;AACD,GAFD,CA3agC,CA+ahC;;;AACAb,EAAAA,KAAK,CAACyI,OAAN,GAAgB,SAASA,OAAT,CAAkBrI,OAAlB,EAA2B;AACzC,WAAO,KAAKK,GAAL,CAAS,UAAT,EAAqBL,OAArB,CAAP;AACD,GAFD,CAhbgC,CAobhC;;;AACAJ,EAAAA,KAAK,CAAC0I,OAAN,GAAgB,SAASA,OAAT,CAAkBvD,QAAlB,EAA4B;AAC1C,WAAO,KAAK1E,GAAL,CAAS,UAAT,EAAqB0E,QAArB,CAAP;AACD,GAFD,CArbgC,CAybhC;;;AACAnF,EAAAA,KAAK,CAAC2I,QAAN,GAAiB,SAASA,QAAT,GAAqB;AACpC,WAAO,KAAKlI,GAAL,CAAS,WAAT,CAAP;AACD,GAFD,CA1bgC,CA8bhC;;;AACAT,EAAAA,KAAK,CAAC4I,eAAN,GAAwB,SAASA,eAAT,CAA0Bd,WAA1B,EAAuCe,QAAvC,EAAiD;AACvE,WAAO,KAAKpI,GAAL,CAAS,mBAAT,EAA8BqH,WAA9B,EAA2Ce,QAA3C,CAAP;AACD,GAFD,CA/bgC,CAmchC;;;AACA7I,EAAAA,KAAK,CAAC8I,OAAN,GAAgB,SAASA,OAAT,CAAkBnI,MAAlB,EAA0B;AACxC,WAAO,KAAKF,GAAL,CAAS,UAAT,EAAqBE,MAArB,CAAP;AACD,GAFD,CApcgC,CAwchC;;;AACAX,EAAAA,KAAK,CAAC+I,UAAN,GAAmB,SAASA,UAAT,CAAqBrG,CAArB,EAAwBC,CAAxB,EAA2B;AAC5C,WAAO,KAAKlC,GAAL,CAAS,cAAT,EAAyBiC,CAAzB,EAA4BC,CAA5B,CAAP;AACD,GAFD,CAzcgC,CA6chC;;;AACA3C,EAAAA,KAAK,CAACgJ,MAAN,GAAe,SAASA,MAAT,GAAmB;AAChC,WAAO,KAAKvI,GAAL,CAAS,SAAT,CAAP;AACD,GAFD,CA9cgC,CAkdhC;;;AACAT,EAAAA,KAAK,CAACiJ,MAAN,GAAe,SAASA,MAAT,GAAmB;AAChC,WAAO,KAAKxI,GAAL,CAAS,SAAT,CAAP;AACD,GAFD,CAndgC,CAudhC;;;AACAT,EAAAA,KAAK,CAACkJ,MAAN,GAAe,SAASA,MAAT,CAAiBrG,KAAjB,EAAwBC,MAAxB,EAAgCqG,IAAhC,EAAsCC,IAAtC,EAA4CxH,GAA5C,EAAiD;AAC9D,QAAIH,SAAS,CAAC,CAAD,CAAT,KAAiB,GAArB,EAA0B,OAAO,KAAKhB,GAAL,CAAS,SAAT,CAAP;AAC1B,WAAO,KAAKA,GAAL,CAAS,SAAT,EAAoBoC,KAAK,GAAC,GAAN,GAAUC,MAAV,GAAiB,GAAjB,GAAqBqG,IAArB,GAA0B,GAA1B,GAA8BC,IAA9B,IAAoCxH,GAAG,IAAE,EAAzC,CAApB,CAAP;AACD,GAHD,CAxdgC,CA6dhC;;;AACA5B,EAAAA,KAAK,CAACqJ,MAAN,GAAe,SAASA,MAAT,CAAiBxD,QAAjB,EAA2B;AACxC,WAAO,KAAKpF,GAAL,CAAS,SAAT,EAAoBoF,QAApB,CAAP;AACD,GAFD,CA9dgC,CAkehC;;;AACA7F,EAAAA,KAAK,CAACsJ,cAAN,GAAuB,SAASA,cAAT,CAAyBC,gBAAzB,EAA2CC,cAA3C,EAA2D;AAChF,WAAO,KAAK/I,GAAL,CAAS,kBAAT,EAA6B8I,gBAAgB,GAAC,GAAjB,GAAqBC,cAAlD,CAAP;AACD,GAFD,CAnegC,CAuehC;;;AACAxJ,EAAAA,KAAK,CAACyJ,KAAN,GAAc,SAASA,KAAT,CAAgBnF,KAAhB,EAAuB;AACnC,WAAO,KAAK7D,GAAL,CAAS,QAAT,EAAmB6D,KAAnB,CAAP;AACD,GAFD,CAxegC,CA4ehC;;;AACAtE,EAAAA,KAAK,CAAC0J,MAAN,GAAe,SAASA,MAAT,CAAiBC,KAAjB,EAAwBC,GAAxB,EAA6B;AAC1C,WAAO,KAAKnJ,GAAL,CAAS,SAAT,EAAoBkJ,KAAK,GAAC,GAAN,GAAUC,GAA9B,CAAP;AACD,GAFD,CA7egC,CAifhC;;;AACA5J,EAAAA,KAAK,CAAC6J,MAAN,GAAe,SAASA,MAAT,GAAmB;AAChC,WAAO,KAAKpJ,GAAL,CAAS,SAAT,CAAP;AACD,GAFD,CAlfgC,CAsfhC;;;AACAT,EAAAA,KAAK,CAAC8J,GAAN,GAAY,SAASA,GAAT,CAAcC,SAAd,EAAyBzF,KAAzB,EAAgC;AAC1C,WAAO,KAAK7D,GAAL,CAAS,MAAT,EAAiBsJ,SAAjB,EAA4BzF,KAA5B,CAAP;AACD,GAFD,CAvfgC,CA2fhC;;;AACAtE,EAAAA,KAAK,CAACgK,OAAN,GAAgB,SAASA,OAAT,CAAkBC,gBAAlB,EAAoCC,kBAApC,EAAwD;AACtE,WAAO,KAAKzJ,GAAL,CAAS,UAAT,EAAqBwJ,gBAAgB,GAAC,GAAjB,GAAqBC,kBAA1C,CAAP;AACD,GAFD,CA5fgC,CAggBhC;;;AACAlK,EAAAA,KAAK,CAACmK,KAAN,GAAc,SAASA,KAAT,CAAgBC,OAAhB,EAAyBC,SAAzB,EAAoC;AAChD,WAAO,KAAK5J,GAAL,CAAS,QAAT,EAAmB2J,OAAO,GAAC,GAAR,GAAYC,SAA/B,CAAP;AACD,GAFD,CAjgBgC,CAqgBhC;;;AACArK,EAAAA,KAAK,CAACsK,MAAN,GAAe,SAASA,MAAT,CAAiB3E,MAAjB,EAAyBC,KAAzB,EAAgC;AAC7C,WAAO,KAAKnF,GAAL,CAAS,SAAT,EAAoBd,WAAW,CAACgG,MAAD,EAASC,KAAT,CAAX,CAA2BpD,IAA3B,CAAgC,GAAhC,CAApB,CAAP;AACD,GAFD,CAtgBgC,CA0gBhC;;;AACAxC,EAAAA,KAAK,CAACuK,YAAN,GAAqB,SAASA,YAAT,GAAyB;AAC5C,WAAO,KAAK9J,GAAL,CAAS,gBAAT,CAAP;AACD,GAFD,CA3gBgC,CA+gBhC;;;AACAT,EAAAA,KAAK,CAACwK,KAAN,GAAc,SAASA,KAAT,CAAgB3H,KAAhB,EAAuBC,MAAvB,EAA+BiC,OAA/B,EAAwC;AACpD,WAAO,KAAKtE,GAAL,CAAS,QAAT,EAAmBoC,KAAK,GAAC,GAAN,GAAUC,MAAV,IAAkBiC,OAAO,GAAC,GAAD,GAAK,EAA9B,CAAnB,CAAP;AACD,GAFD,CAhhBgC,CAohBhC;;;AACA/E,EAAAA,KAAK,CAACyK,KAAN,GAAc,SAASA,KAAT,CAAgBC,QAAhB,EAA0BC,SAA1B,EAAqC;AACjD,WAAO,KAAKlK,GAAL,CAAS,QAAT,EAAmBiK,QAAQ,GAAC,GAAT,GAAaC,SAAhC,CAAP;AACD,GAFD,CArhBgC,CAyhBhC;;;AACA3K,EAAAA,KAAK,CAAC4K,MAAN,GAAe,SAASA,MAAT,CAAiB5H,KAAjB,EAAwB;AACrC,WAAO,KAAKvC,GAAL,CAAS,SAAT,CAAP;AACD,GAFD,CA1hBgC,CA8hBhC;;;AACAT,EAAAA,KAAK,CAAC6K,OAAN,GAAgB,SAASA,OAAT,CAAkBhI,KAAlB,EAAyBC,MAAzB,EAAiCuD,MAAjC,EAAyC;AACvD,QAAIyE,GAAG,GAAG,eAAe,OAAOzE,MAAtB,GACN,MAAMA,MADA,GAEN,EAFJ;AAGA,WAAO,KAAK5F,GAAL,CAAS,OAAT,EAAkBoC,KAAK,GAAE,GAAP,GAAYC,MAAZ,GAAqBgI,GAAvC,CAAP;AACD,GALD,CA/hBgC,CAsiBhC;;;AACA9K,EAAAA,KAAK,CAAC+K,KAAN,GAAc,SAASA,KAAT,CAAgBzG,KAAhB,EAAuB;AACnC,WAAO,KAAK7D,GAAL,CAAS,QAAT,EAAmB6D,KAAnB,CAAP;AACD,GAFD,CAviBgC,CA2iBhC;;;AACAtE,EAAAA,KAAK,CAACgL,OAAN,GAAgB,SAASA,OAAT,CAAkB3E,MAAlB,EAA0B;AACxC,WAAO,KAAK5F,GAAL,CAAS,UAAT,EAAqB4F,MAArB,CAAP;AACD,GAFD,CA5iBgC,CAgjBhC;;;AACArG,EAAAA,KAAK,CAACiL,MAAN,GAAe,SAASA,MAAT,GAAmB;AAChC,WAAO,KAAKxK,GAAL,CAAS,SAAT,CAAP;AACD,GAFD,CAjjBgC,CAqjBhC;;;AACAT,EAAAA,KAAK,CAACkL,QAAN,GAAiB,SAASA,QAAT,CAAmB5K,IAAnB,EAAyB;AACxC,WAAO,KAAKG,GAAL,CAAS,YAAT,EAAuBH,IAAvB,CAAP;AACD,GAFD,CAtjBgC,CA0jBhC;;;AACAN,EAAAA,KAAK,CAACmL,OAAN,GAAgB,SAASA,OAAT,CAAkBhG,QAAlB,EAA4B;AAC1C,WAAO,KAAK1E,GAAL,CAAS,UAAT,EAAqB0E,QAArB,CAAP;AACD,GAFD,CA3jBgC,CA+jBhC;;;AACAnF,EAAAA,KAAK,CAACoL,SAAN,GAAkB,SAASA,SAAT,CAAoB9G,KAApB,EAA2BS,OAA3B,EAAoC;AACpD,WAAO,KAAKtE,GAAL,CAAS,YAAT,EAAuB6D,KAAK,IAAES,OAAO,GAAC,GAAD,GAAK,EAAd,CAA5B,CAAP;AACD,GAFD,CAhkBgC,CAokBhC;;;AACA/E,EAAAA,KAAK,CAACqL,SAAN,GAAkB,SAASA,SAAT,CAAoBjI,CAApB,EAAuBC,CAAvB,EAA0BiI,OAA1B,EAAmC;AACnDA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,QAAIzF,QAAJ;AAAA,QACE0F,QAAQ,GAAGC,OAAO,CAACpI,CAAC,IAAIA,CAAC,KAAK,CAAZ,CADpB;AAAA,QAEEqI,QAAQ,GAAGD,OAAO,CAACnI,CAAC,IAAIA,CAAC,KAAK,CAAZ,CAFpB;;AAIA,QAAIkI,QAAQ,IAAIE,QAAhB,EAA0B;AACxB5F,MAAAA,QAAQ,GAAGzC,CAAC,GAAG,GAAJ,GAAUC,CAAV,GAAciI,OAAzB;AACD,KAFD,MAEO,IAAIC,QAAJ,EAAc;AACnB;AACA1F,MAAAA,QAAQ,GAAI,KAAK/E,QAAL,CAAcC,WAAf,GAA8BqC,CAAC,GAAGkI,OAAlC,GAA4ClI,CAAC,GACtD,GADqD,GAC/CkI,OADR;AAED,KAJM,MAIA,IAAIG,QAAJ,EAAc;AACnB5F,MAAAA,QAAQ,GAAG,MAAMxC,CAAN,GAAUiI,OAArB;AACD,KAFM,MAEA;AACL,aAAO,IAAP;AACD;;AAED,WAAO,KAAK7K,GAAL,CAAS,YAAT,EAAuBoF,QAAvB,CAAP;AACD,GAnBD,CArkBgC,CA0lBhC;;;AACA7F,EAAAA,KAAK,CAAC0L,IAAN,GAAa,SAASA,IAAT,CAAevG,QAAf,EAAyB;AACpC,WAAO,KAAK1E,GAAL,CAAS,OAAT,EAAkB0E,QAAlB,CAAP;AACD,GAFD,CA3lBgC,CA+lBhC;;;AACAnF,EAAAA,KAAK,CAAC2L,KAAN,GAAc,SAASA,KAAT,CAAgB3J,MAAhB,EAAwB;AACpC,WAAO,KAAKvB,GAAL,CAAS,QAAT,EAAmBuB,MAAnB,CAAP;AACD,GAFD,CAhmBgC,CAomBhC;;;AACAhC,EAAAA,KAAK,CAAC4L,SAAN,GAAkB,SAASA,SAAT,CAAoB5I,KAApB,EAA2B;AAC3C,WAAO,KAAKvC,GAAL,CAAS,YAAT,EAAuBuC,KAAvB,CAAP;AACD,GAFD,CArmBgC,CAymBhC;;;AACAhD,EAAAA,KAAK,CAAC6L,WAAN,GAAoB,SAASA,WAAT,CAAsB7I,KAAtB,EAA6B;AAC/C,WAAO,KAAKvC,GAAL,CAAS,cAAT,EAAyBuC,KAAzB,CAAP;AACD,GAFD,CA1mBgC,CA8mBhC;;;AACAhD,EAAAA,KAAK,CAAC8L,SAAN,GAAkB,SAASA,SAAT,CAAoBxH,KAApB,EAA2B;AAC3C,WAAO,KAAK7D,GAAL,CAAS,YAAT,EAAuB6D,KAAvB,CAAP;AACD,GAFD,CA/mBgC,CAmnBhC;;;AACAtE,EAAAA,KAAK,CAAC+L,MAAN,GAAe,SAASA,MAAT,CAAiB3D,OAAjB,EAA0B;AACvC,WAAO,KAAK3H,GAAL,CAAS,SAAT,EAAoB2H,OAApB,CAAP;AACD,GAFD,CApnBgC,CAwnBhC;;;AACApI,EAAAA,KAAK,CAACgM,KAAN,GAAc,SAASA,KAAT,CAAgBnL,IAAhB,EAAsB;AAClC,WAAO,KAAKJ,GAAL,CAAS,QAAT,EAAmBI,IAAnB,CAAP;AACD,GAFD,CAznBgC,CA6nBhC;;;AACAb,EAAAA,KAAK,CAACiM,OAAN,GAAgB,SAASA,OAAT,CAAkBtG,MAAlB,EAA0BC,KAA1B,EAAiCsG,MAAjC,EAAyCd,SAAzC,EAAoD;AAClE,QAAIxJ,GAAG,GAAC+D,MAAR;AACA,QAAI,OAAOC,KAAP,IAAgB,WAApB,EAAiChE,GAAG,IAAE,MAAIgE,KAAT;AACjC,QAAI,OAAOsG,MAAP,IAAiB,WAArB,EAAkCtK,GAAG,IAAE,MAAIsK,MAAT;AAClC,QAAI,OAAOd,SAAP,IAAoB,WAAxB,EAAqCxJ,GAAG,IAAE,MAAIwJ,SAAT;AACrC,WAAO,KAAK3K,GAAL,CAAS,UAAT,EAAqBmB,GAArB,CAAP;AACD,GAND,CA9nBgC,CAsoBhC;;;AACA5B,EAAAA,KAAK,CAACmM,SAAN,GAAkB,SAASA,SAAT,GAAsB;AACtC,WAAO,KAAK1L,GAAL,CAAS,aAAT,CAAP;AACD,GAFD,CAvoBgC,CA2oBhC;;;AACAT,EAAAA,KAAK,CAACoM,IAAN,GAAa,SAASA,IAAT,CAAepK,MAAf,EAAuB;AAClC,WAAO,KAAKvB,GAAL,CAAS,OAAT,EAAkBuB,MAAlB,CAAP;AACD,GAFD,CA5oBgC,CAgpBhC;;;AACAhC,EAAAA,KAAK,CAACqM,YAAN,GAAqB,SAASA,YAAT,CAAuBxH,MAAvB,EAA+B;AAClD,WAAO,KAAKpE,GAAL,CAAS,gBAAT,EAA2BoE,MAA3B,CAAP;AACD,GAFD,CAjpBgC,CAqpBhC;;;AACA7E,EAAAA,KAAK,CAACsM,MAAN,GAAe,SAASA,MAAT,CAAiBzL,IAAjB,EAAuB;AACpC,WAAO,KAAKJ,GAAL,CAAS,SAAT,EAAoBI,IAApB,CAAP;AACD,GAFD,CAtpBgC,CA0pBhC;;;AACAb,EAAAA,KAAK,CAACuM,SAAN,GAAkB,SAASA,SAAT,CAAoBC,UAApB,EAAgCC,UAAhC,EAA4C;AAC5D,WAAO,KAAKhM,GAAL,CAAS,YAAT,EAAuB+L,UAAU,GAAC,GAAX,GAAeC,UAAtC,CAAP;AACD,GAFD,CA3pBgC,CA+pBhC;;;AACAzM,EAAAA,KAAK,CAAC0M,IAAN,GAAa,SAASA,IAAT,CAAeC,SAAf,EAA0BC,UAA1B,EAAsC;AACjD,WAAO,KAAKnM,GAAL,CAAS,OAAT,EAAkBkM,SAAS,GAAC,GAAV,GAAcC,UAAhC,CAAP;AACD,GAFD,CAhqBgC,CAoqBhC;;;AACA5M,EAAAA,KAAK,CAACyG,UAAN,GAAmB,SAASA,UAAT,CAAqB/D,CAArB,EAAwBC,CAAxB,EAA2B;AAC5C,WAAO,KAAKlC,GAAL,CAAS,cAAT,EAAyBiC,CAAC,GAAC,GAAF,GAAMC,CAA/B,CAAP;AACD,GAFD,CArqBgC,CAyqBhC;;;AACA3C,EAAAA,KAAK,CAAC6M,cAAN,GAAuB,SAASA,cAAT,CAAyBzK,GAAzB,EAA8BC,KAA9B,EAAqCC,IAArC,EAA2CC,OAA3C,EAAoD;AACzE,WAAO,KAAK9B,GAAL,CAAS,kBAAT,EAA6Bd,WAAW,CAACyC,GAAD,EAAMC,KAAN,EAAaC,IAAb,EAAmBC,OAAnB,CAAX,CAAuCC,IAAvC,CAA4C,GAA5C,CAA7B,CAAP;AACD,GAFD,CA1qBgC,CA8qBhC;;;AACAxC,EAAAA,KAAK,CAAC8M,MAAN,GAAe,SAASA,MAAT,CAAiBC,EAAjB,EAAqB;AAClC,WAAO,KAAKtM,GAAL,CAAS,SAAT,EAAoBsM,EAApB,CAAP;AACD,GAFD,CA/qBgC,CAmrBhC;;;AACA/M,EAAAA,KAAK,CAACgN,WAAN,GAAoB,SAASA,WAAT,GAAwB;AAC1C,WAAO,KAAKvM,GAAL,CAAS,eAAT,CAAP;AACD,GAFD,CAprBgC,CAwrBhC;;;AACAT,EAAAA,KAAK,CAACiN,KAAN,GAAc,SAASA,KAAT,GAAkB;AAC9B,QAAI,KAAKnM,QAAL,CAAcC,WAAlB,EAA+B,OAAO,KAAKN,GAAL,CAAS,QAAT,CAAP;AAC/B,WAAO,KAAKyM,SAAL,GAAiBzM,GAAjB,CAAqB,UAArB,CAAP,CAF8B,CAEU;AACzC,GAHD,CAzrBgC,CA8rBhC;;;AACAT,EAAAA,KAAK,CAACmN,SAAN,GAAkB,SAASA,SAAT,CAAoBtM,IAApB,EAA0B;AAC1C,WAAO,KAAKJ,GAAL,CAAS,YAAT,EAAuBI,IAAI,IAAI,MAA/B,CAAP;AACD,GAFD,CA/rBgC,CAmsBhC;;;AACAb,EAAAA,KAAK,CAACoN,SAAN,GAAkB,SAASA,SAAT,CAAoBC,MAApB,EAA4B;AAC5C,QAAIA,MAAJ,EAAY,KAAKC,aAAL,GAAqBD,MAArB;AACZ,WAAO,IAAP;AACD,GAHD,CApsBgC,CAysBhC;;;AACArN,EAAAA,KAAK,CAACuN,MAAN,GAAe,SAASA,MAAT,CAAiBnK,CAAjB,EAAoBC,CAApB,EAAuBiI,OAAvB,EAAgC;AAC7CA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,QAAIzF,QAAJ;AAAA,QACE0F,QAAQ,GAAGC,OAAO,CAACpI,CAAC,IAAIA,CAAC,KAAK,CAAZ,CADpB;AAAA,QAEEqI,QAAQ,GAAGD,OAAO,CAACnI,CAAC,IAAIA,CAAC,KAAK,CAAZ,CAFpB;;AAIA,QAAIkI,QAAQ,IAAIE,QAAhB,EAA0B;AACxB5F,MAAAA,QAAQ,GAAGzC,CAAC,GAAG,GAAJ,GAAUC,CAAV,GAAciI,OAAzB;AACD,KAFD,MAEO,IAAIC,QAAJ,EAAc;AACnB;AACA1F,MAAAA,QAAQ,GAAI,KAAK/E,QAAL,CAAcC,WAAf,GAA8BqC,CAAC,GAAGkI,OAAlC,GAA4ClI,CAAC,GACtD,GADqD,GAC/CkI,OADR;AAED,KAJM,MAIA,IAAIG,QAAJ,EAAc;AACnB5F,MAAAA,QAAQ,GAAG,MAAMxC,CAAN,GAAUiI,OAArB;AACD,KAFM,MAEA;AACL,aAAO,IAAP;AACD;;AAED,WAAO,KAAK7K,GAAL,CAAS,SAAT,EAAoBoF,QAApB,CAAP;AACD,GAnBD,CA1sBgC,CA+tBhC;;;AACA7F,EAAAA,KAAK,CAACwN,WAAN,GAAoB,SAASD,MAAT,CAAiBnK,CAAjB,EAAoBC,CAApB,EAAuB;AACzC,QAAIiI,OAAO,GAAG,GAAd;AACA,WAAOtL,KAAK,CAACuN,MAAN,CAAa/L,KAAb,CAAmB,IAAnB,EAAyB,CAAC4B,CAAD,EAAIC,CAAJ,EAAOiI,OAAP,CAAzB,CAAP;AACD,GAHD,CAhuBgC,CAquBhC;;;AACAtL,EAAAA,KAAK,CAACyN,KAAN,GAAc,SAASA,KAAT,CAAgBrK,CAAhB,EAAmBC,CAAnB,EAAsBiI,OAAtB,EAA+B;AAC3CA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,QAAIzF,QAAJ;;AACA,QAAIzC,CAAC,IAAIC,CAAT,EAAY;AACVwC,MAAAA,QAAQ,GAAGzC,CAAC,GAAG,GAAJ,GAAUC,CAAV,GAAciI,OAAzB;AACD,KAFD,MAEO,IAAIlI,CAAC,IAAI,CAACC,CAAV,EAAa;AAClBwC,MAAAA,QAAQ,GAAI,KAAK/E,QAAL,CAAcC,WAAf,GAA8BqC,CAAC,GAAGkI,OAAlC,GAA4ClI,CAAC,GAAG,GAAJ,GAAUkI,OAAjE;AACD,KAFM,MAEA,IAAI,CAAClI,CAAD,IAAMC,CAAV,EAAa;AAClBwC,MAAAA,QAAQ,GAAG,MAAMxC,CAAN,GAAUiI,OAArB;AACD;;AAED,WAAO,KAAK7K,GAAL,CAAS,QAAT,EAAmBoF,QAAnB,CAAP;AACD,GAZD,CAtuBgC,CAovBhC;;;AACA7F,EAAAA,KAAK,CAAC0N,MAAN,GAAe,SAASA,MAAT,CAAiBC,GAAjB,EAAsB;AACnC,WAAO,KAAKlN,GAAL,CAAS,SAAT,EAAoBkN,GAApB,CAAP;AACD,GAFD,CArvBgC,CAyvBhC;;;AACA3N,EAAAA,KAAK,CAAC4N,OAAN,GAAgB,SAASA,OAAT,CAAkBxK,CAAlB,EAAqBC,CAArB,EAAwB;AACtC,QAAID,CAAC,IAAI,CAACC,CAAN,IAAW,KAAKvC,QAAL,CAAcC,WAA7B,EAA0C;AACxC;AACA;AACA,aAAO,KAAKuC,EAAL,CAAQ,UAAR,EAAoBF,CAApB,CAAP;AACD;;AACD,WAAO,KAAKE,EAAL,CAAQ,UAAR,EAAoBF,CAAC,GAAE,GAAH,GAAQC,CAA5B,CAAP;AACD,GAPD,CA1vBgC,CAmwBhC;;;AACArD,EAAAA,KAAK,CAACkN,SAAN,GAAkB,SAASA,SAAT,GAAsB;AACtC,SAAKzM,GAAL,CAAS,UAAT,EAAqB,KAArB;AACA,WAAO,IAAP;AACD,GAHD,CApwBgC,CAywBhC;;;AACAT,EAAAA,KAAK,CAAC6N,QAAN,GAAiB,SAASA,QAAT,CAAmBzK,CAAnB,EAAsBC,CAAtB,EAAyB;AACxC,WAAO,KAAK5C,GAAL,CAAS,WAAT,EAAsB2C,CAAC,GAAC,GAAF,GAAMC,CAA5B,CAAP;AACD,GAFD,CA1wBgC,CA8wBhC;;;AACArD,EAAAA,KAAK,CAAC8N,MAAN,GAAe,SAASA,MAAT,CAAiB9K,KAAjB,EAAwB+K,GAAxB,EAA6B;AAC1C,WAAO,KAAKtN,GAAL,CAAS,aAAT,EAAwBuC,KAAxB,EAA+B,SAA/B,EAA0CgL,MAAM,CAACD,GAAG,IAAI,CAAR,CAAhD,CAAP;AACD,GAFD,CA/wBgC,CAmxBhC;;;AACA/N,EAAAA,KAAK,CAACiO,IAAN,GAAa,SAASA,IAAT,GAAiB;AAC5B,WAAO,KAAKxN,GAAL,CAAS,OAAT,CAAP;AACD,GAFD,CApxBgC,CAwxBhC;;;AACAT,EAAAA,KAAK,CAACkO,IAAN,GAAa,SAASA,IAAT,GAAiB;AAC5B,WAAO,KAAKzN,GAAL,CAAS,OAAT,CAAP;AACD,GAFD,CAzxBgC,CA6xBhC;;;AACAT,EAAAA,KAAK,CAACmO,IAAN,GAAa,SAASA,IAAT,CAAe/K,CAAf,EAAkBC,CAAlB,EAAqBX,CAArB,EAAwBC,CAAxB,EAA2BoC,OAA3B,EAAoC;AAC/C,QAAI,KAAKqJ,OAAL,CAAa,KAAb,CAAJ,EAAyB;AACvB;AACA,UAAIC,KAAK,GAAG,KAAKC,GAAL,CAASC,OAAT,CAAiB,OAAjB,CAAZ;;AACA,UAAI,CAACF,KAAL,EAAY;AACV,aAAKC,GAAL,CAASE,MAAT,CAAgBH,KAAhB,EAAuB,CAAvB;AACD;AACF;;AAED,WAAO,KAAK5N,GAAL,CAAS,OAAT,EAAkB2C,CAAC,GAAG,GAAJ,GAAUC,CAAV,GAAc,GAAd,IAAqBX,CAAC,IAAI,CAA1B,IAA+B,GAA/B,IAAsCC,CAAC,IAAI,CAA3C,KAAiDoC,OAAO,GAAG,GAAH,GAAS,EAAjE,CAAlB,CAAP;AACD,GAVD,CA9xBgC,CA0yBhC;;;AACA/E,EAAAA,KAAK,CAACyO,OAAN,GAAgB,SAASA,OAAT,CAAkBC,MAAlB,EAA0B;AACxC,WAAO,KAAKpL,EAAL,CAAQ,UAAR,CAAP;AACD,GAFD,CA3yBgC,CA+yBhC;;;AACAtD,EAAAA,KAAK,CAAC2O,MAAN,GAAe,SAASA,MAAT,GAAmB;AAChC,WAAO,KAAKrL,EAAL,CAAQ,SAAR,CAAP;AACD,GAFD,CAhzBgC,CAozBhC;;;AACAtD,EAAAA,KAAK,CAAC4O,OAAN,GAAgB,SAASA,OAAT,CAAkBjB,GAAlB,EAAuB;AACrC,WAAO,KAAKrK,EAAL,CAAQ,UAAR,EAAoBqK,GAAG,IAAI,EAA3B,CAAP;AACD,GAFD,CArzBgC,CAyzBhC;;;AACA3N,EAAAA,KAAK,CAAC6O,IAAN,GAAa,SAASA,IAAT,CAAelJ,MAAf,EAAuBC,KAAvB,EAA8B;AACzC,WAAO,KAAKnF,GAAL,CAAS,OAAT,EAAkBkF,MAAM,IAAIC,KAAK,GAAG,MAAIA,KAAP,GAAe,EAAxB,CAAxB,CAAP;AACD,GAFD,CA1zBgC,CA8zBhC;;;AACA5F,EAAAA,KAAK,CAAC8O,QAAN,GAAiB,SAASA,QAAT,CAAmBJ,MAAnB,EAA2B;AAC1C,WAAO,KAAKjO,GAAL,CAAS,WAAT,EAAsBiO,MAAM,IAAI,CAAhC,CAAP;AACD,GAFD,CA/zBgC,CAm0BhC;;;AACA1O,EAAAA,KAAK,CAAC+O,QAAN,GAAiB,SAASA,QAAT,CAAmBnL,CAAnB,EAAsBoL,CAAtB,EAAyB3L,CAAzB,EAA4B;AAC3C,WAAO,KAAK5C,GAAL,CAAS,WAAT,EAAsB,CAACmD,CAAD,EAAGoL,CAAH,EAAK3L,CAAL,EAAQb,IAAR,CAAa,GAAb,CAAtB,CAAP;AACD,GAFD,CAp0BgC,CAw0BhC;AACA;;;AACAxC,EAAAA,KAAK,CAACiP,SAAN,GAAkB,SAASA,SAAT,CAAoBC,OAApB,EAA6B;AAC7C,WAAO,UAAUA,OAAV,GACH,KAAKzO,GAAL,CAAS,YAAT,CADG,GAEH,IAFJ;AAGD,GAJD,CA10BgC,CAg1BhC;;;AACAT,EAAAA,KAAK,CAACmP,QAAN,GAAiB,SAASA,QAAT,CAAmBxB,GAAnB,EAAwB;AACvC,WAAO,KAAKlN,GAAL,CAAS,QAAT,EAAmBkN,GAAnB,CAAP;AACD,GAFD,CAj1BgC,CAq1BhC;;;AACA3N,EAAAA,KAAK,CAACoP,MAAN,GAAe,SAASA,MAAT,CAAiBzB,GAAjB,EAAsB;AACnC,WAAO,KAAKlN,GAAL,CAAS,SAAT,EAAoBkN,GAAG,IAAI,GAA3B,CAAP;AACD,GAFD,CAt1BgC,CA01BhC;;;AACA3N,EAAAA,KAAK,CAACqP,UAAN,GAAmB,SAASA,UAAT,CAAqB1B,GAArB,EAA0B;AAC3C,WAAO,KAAKlN,GAAL,CAAS,aAAT,EAAwBkN,GAAxB,CAAP;AACD,GAFD,CA31BgC,CA+1BhC;;;AACA3N,EAAAA,KAAK,CAACsP,OAAN,GAAgBA,OAAO,CAAC,UAAD,CAAvB,CAh2BgC,CAk2BhC;;AACAtP,EAAAA,KAAK,CAACuP,QAAN,GAAiB,SAASA,QAAT,CAAmBC,IAAnB,EAAyB;AACxC,QAAI5N,GAAG,GAAG,CAAC6N,QAAQ,CAACD,IAAD,EAAO,EAAP,CAAR,IAAsB,CAAvB,IAA4B,CAA5B,GACN,WADM,GAEN,WAFJ;AAIAA,IAAAA,IAAI,GAAGE,IAAI,CAACC,GAAL,CAASH,IAAT,KAAkB,CAAzB;;AAEA,WAAOA,IAAI,EAAX,EAAe;AACb,WAAK/O,GAAL,CAASmB,GAAT;AACD;;AAED,WAAO,IAAP;AACD,GAZD,CAn2BgC,CAi3BhC;;;AACA5B,EAAAA,KAAK,CAAC4P,KAAN,GAAc,SAASA,KAAT,CAAgB1D,MAAhB,EAAwB;AACpC,WAAO,KAAKzL,GAAL,CAAS,QAAT,EAAmByL,MAAM,IAAI,CAA7B,CAAP;AACD,GAFD,CAl3BgC,CAs3BhC;;;AACAlM,EAAAA,KAAK,CAAC6P,SAAN,GAAkB,SAASA,SAAT,GAAsB;AACtC,WAAO,KAAKpP,GAAL,CAAS,YAAT,CAAP;AACD,GAFD,CAv3BgC,CA23BhC;AACA;AACA;;;AACAT,EAAAA,KAAK,CAAC8P,MAAN,GAAe,SAASA,MAAT,CAAiBC,EAAjB,EAAqB;AAClC,QAAIC,IAAI,GAAG,UAAUD,EAAV,GACP,GADO,GAEP,GAFJ;AAIA,WAAO,KAAKtP,GAAL,CAASuP,IAAI,GAAG,QAAhB,CAAP;AACD,GAND,CA93BgC,CAs4BhC;;;AACAhQ,EAAAA,KAAK,CAACiQ,UAAN,GAAmB,SAASA,UAAT,GAAuB;AACxC,WAAO,KAAKxP,GAAL,CAAS,aAAT,CAAP;AACD,GAFD,CAv4BgC,CA24BhC;;;AACAT,EAAAA,KAAK,CAACkQ,IAAN,GAAa,SAASA,IAAT,CAAevK,MAAf,EAAuB;AAClC,WAAO,KAAKlF,GAAL,CAAS,OAAT,EAAkBkF,MAAM,IAAI,CAA5B,CAAP;AACD,GAFD,CA54BgC,CAg5BhC;;;AACA3F,EAAAA,KAAK,CAACmQ,MAAN,GAAe,SAASA,MAAT,CAAiBxK,MAAjB,EAAyB;AACtC,WAAO,KAAKlF,GAAL,CAAS,SAAT,EAAoBkF,MAAM,IAAI,CAA9B,CAAP;AACD,GAFD,CAj5BgC,CAq5BhC;;;AACA3F,EAAAA,KAAK,CAACoQ,OAAN,GAAgB,SAASA,OAAT,GAAoB;AAClC,WAAO,KAAK3P,GAAL,CAAS,UAAT,CAAP;AACD,GAFD,CAt5BgC,CA05BhC;;;AACAT,EAAAA,KAAK,CAACqQ,QAAN,GAAiB,SAASA,QAAT,GAAqB;AACpC,WAAO,KAAK5P,GAAL,CAAS,WAAT,CAAP;AACD,GAFD,CA35BgC,CA+5BhC;;;AACAT,EAAAA,KAAK,CAACwG,KAAN,GAAc,SAASA,KAAT,CAAgB9C,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACrC,WAAO,KAAKnD,GAAL,CAAS,QAAT,EAAmB,CAACiD,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAQpB,IAAR,EAAnB,CAAP;AACD,GAFD,CAh6BgC,CAo6BhC;;;AACAxC,EAAAA,KAAK,CAACsQ,OAAN,GAAgB,SAASA,OAAT,CAAkB5B,MAAlB,EAA0B;AACxC,WAAO,KAAKjO,GAAL,CAAS,UAAT,EAAqBiO,MAAM,IAAI,CAA/B,CAAP;AACD,GAFD,CAr6BgC,CAy6BhC;;;AACA1O,EAAAA,KAAK,CAACuQ,KAAN,GAAcjB,OAAO,CAAC,QAAD,CAArB;AAEA,MAAIkB,MAAM,GAAG,CAAE,MAAF,EAAU,MAAV,EAAkB,KAAlB,EAAyB,QAAzB,EAAmC,QAAnC,EAA6C,SAA7C,CAAb,CA56BgC,CA86BhC;;AACAxQ,EAAAA,KAAK,CAACmH,KAAN,GAAc,SAASA,KAAT,CAAgBtG,IAAhB,EAAsB8M,GAAtB,EAA2B;AACvC9M,IAAAA,IAAI,GAAGA,IAAI,CAAC4P,WAAL,EAAP;;AAEA,QAAI,CAAC,CAACD,MAAM,CAACjC,OAAP,CAAe1N,IAAf,CAAN,EAA4B;AAC1B,aAAO,IAAP;AACD;;AAED,WAAO,KAAKJ,GAAL,CAAS,QAAT,EAAmBI,IAAnB,EAAyB8M,GAAzB,CAAP;AACD,GARD,CA/6BgC,CAy7BhC;;;AACA3N,EAAAA,KAAK,CAAC0Q,MAAN,GAAe,SAASA,MAAT,CAAiB/K,MAAjB,EAAyB;AACtC,WAAO,KAAKlF,GAAL,CAAS,SAAT,EAAoBkF,MAAM,IAAI,CAA9B,CAAP;AACD,GAFD,CA17BgC,CA87BhC;;;AACA3F,EAAAA,KAAK,CAAC2Q,QAAN,GAAiB,SAASA,QAAT,CAAmBC,SAAnB,EAA8B;AAC7C,QAAIZ,IAAI,GAAGY,SAAS,GAAG,GAAH,GAAS,GAA7B;AACA,WAAO,KAAKnQ,GAAL,CAASuP,IAAI,GAAG,QAAhB,CAAP;AACD,GAHD;;AAKA,MAAIa,MAAM,GAAG,CACT,SADS,EAET,UAFS,EAGT,gBAHS,EAIT,SAJS,EAKT,WALS,EAMT,SANS,CAAb,CAp8BgC,CA68BhC;;AACA7Q,EAAAA,KAAK,CAAC8Q,KAAN,GAAc,SAASA,KAAT,CAAgBnL,MAAhB,EAAwB;AACpCA,IAAAA,MAAM,GAAIqI,MAAM,CAACrI,MAAD,CAAP,CAAiB8K,WAAjB,EAAT;AAEA,QAAIT,IAAI,GAAG,CAACa,MAAM,CAACtC,OAAP,CAAe5I,MAAf,CAAD,GACP,GADO,GAEP,GAFJ;AAIA,WAAO,KAAKlF,GAAL,CAASuP,IAAI,GAAG,OAAhB,EAAyBrK,MAAzB,CAAP;AACD,GARD,CA98BgC,CAw9BhC;;;AACA3F,EAAAA,KAAK,CAAC+Q,KAAN,GAAc,SAASA,KAAT,CAAgBpL,MAAhB,EAAwB;AACpC,WAAO,KAAKlF,GAAL,CAAS,QAAT,EAAmBkF,MAAnB,CAAP;AACD,GAFD,CAz9BgC,CA69BhC;;;AACA3F,EAAAA,KAAK,CAACgR,KAAN,GAAc,SAASA,KAAT,CAAgB5N,CAAhB,EAAmBC,CAAnB,EAAsB;AAClC,WAAO,KAAK5C,GAAL,CAAS,QAAT,EAAmB,CAAC2C,CAAC,IAAE,CAAJ,IAAO,GAAP,IAAYC,CAAC,IAAE,CAAf,CAAnB,CAAP;AACD,GAFD,CA99BgC,CAk+BhC;;;AACArD,EAAAA,KAAK,CAACiR,KAAN,GAAc,SAASA,KAAT,CAAgB7N,CAAhB,EAAmBC,CAAnB,EAAsB;AAClC,WAAO,KAAK5C,GAAL,CAAS,QAAT,EAAmB,CAAC2C,CAAC,IAAE,CAAJ,IAAO,GAAP,IAAYC,CAAC,IAAE,CAAf,CAAnB,CAAP;AACD,GAFD,CAn+BgC,CAu+BhC;;;AACArD,EAAAA,KAAK,CAACkR,MAAN,GAAe,SAASA,MAAT,CAAiB9N,CAAjB,EAAoBC,CAApB,EAAuBX,CAAvB,EAA0BC,CAA1B,EAA6B;AAC1CS,IAAAA,CAAC,GAAGA,CAAC,IAAI,CAAT;AACAC,IAAAA,CAAC,GAAGA,CAAC,IAAI,CAAT;AACAX,IAAAA,CAAC,GAAGA,CAAC,IAAI,CAAT;AACAC,IAAAA,CAAC,GAAGA,CAAC,IAAI,CAAT;AACA,WAAO,KAAKlC,GAAL,CAAS,SAAT,EAAoB2C,CAAC,GAAG,GAAJ,GAAUC,CAAV,GAAc,GAAd,GAAoBX,CAApB,GAAwB,GAAxB,GAA8BC,CAAlD,CAAP;AACD,GAND,CAx+BgC,CAg/BhC;;;AACA3C,EAAAA,KAAK,CAACmR,IAAN,GAAa,SAASA,IAAT,CAAezO,CAAf,EAAkBC,CAAlB,EAAqB;AAChCD,IAAAA,CAAC,GAAG,CAAC,CAACA,CAAC,GAAG+M,QAAQ,CAAC/M,CAAD,EAAI,EAAJ,CAAR,IAAmB,CAAxB,KAA8B,CAA9B,GAAkC,GAAlC,GAAwC,EAAzC,IAA+CA,CAAnD;AACAC,IAAAA,CAAC,GAAG,CAAC,CAACA,CAAC,GAAG8M,QAAQ,CAAC9M,CAAD,EAAI,EAAJ,CAAR,IAAmB,CAAxB,KAA8B,CAA9B,GAAkC,GAAlC,GAAwC,EAAzC,IAA+CA,CAAnD;AACA,WAAO,KAAKlC,GAAL,CAAS,OAAT,EAAkBiC,CAAC,GAACC,CAApB,CAAP;AACD,GAJD,CAj/BgC,CAu/BhC;;;AACA3C,EAAAA,KAAK,CAACoR,OAAN,GAAgB,SAASA,OAAT,CAAkBzL,MAAlB,EAA0BC,KAA1B,EAAiC;AAC/CA,IAAAA,KAAK,GAAGA,KAAK,GACT,MAAMA,KADG,GAET,EAFJ;AAIA,WAAO,KAAKnF,GAAL,CAAS,UAAT,EAAqBkF,MAAM,GAAGC,KAA9B,CAAP;AACD,GAND,CAx/BgC,CAggChC;;;AACA5F,EAAAA,KAAK,CAACqR,QAAN,GAAiB,SAASA,QAAT,CAAmB3C,MAAnB,EAA2B;AAC1C,WAAO,KAAKjO,GAAL,CAAS,WAAT,EAAsB,CAACiO,MAAM,IAAI,CAAX,IAAc,GAApC,CAAP;AACD,GAFD,CAjgCgC,CAqgChC;;;AACA1O,EAAAA,KAAK,CAACsR,MAAN,GAAe,SAASA,MAAT,CAAiBpF,MAAjB,EAAyB;AACtC,WAAO,KAAKzL,GAAL,CAAS,SAAT,EAAoByL,MAAM,IAAI,CAA9B,CAAP;AACD,GAFD,CAtgCgC,CA0gChC;;;AACAlM,EAAAA,KAAK,CAACuR,KAAN,GAAc,SAASA,KAAT,CAAgBC,OAAhB,EAAyB;AACrC,WAAO,KAAK/Q,GAAL,CAAS,QAAT,EAAmB+Q,OAAO,IAAI,GAA9B,CAAP;AACD,GAFD,CA3gCgC,CA+gChC;;;AACAxR,EAAAA,KAAK,CAACa,IAAN,GAAa,SAASA,IAAT,CAAeA,IAAf,EAAqB;AAChC,WAAO,KAAKyC,EAAL,CAAQ,OAAR,EAAiBzC,IAAjB,CAAP;AACD,GAFD,CAhhCgC,CAohChC;;;AACAb,EAAAA,KAAK,CAACyR,IAAN,GAAa,SAASA,IAAT,GAAiB;AAC5B,WAAO,KAAKhR,GAAL,CAAS,OAAT,CAAP;AACD,GAFD,CArhCgC,CAyhChC;;;AACAT,EAAAA,KAAK,CAAC0R,MAAN,GAAe,SAASA,MAAT,CAAiBtO,CAAjB,EAAoBC,CAApB,EAAuBiI,OAAvB,EAAgC;AAC7CA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,QAAIzF,QAAJ;;AACA,QAAIzC,CAAC,IAAIC,CAAT,EAAY;AACVwC,MAAAA,QAAQ,GAAGzC,CAAC,GAAG,GAAJ,GAAUC,CAAV,GAAciI,OAAzB;AACD,KAFD,MAEO,IAAIlI,CAAC,IAAI,CAACC,CAAV,EAAa;AAClBwC,MAAAA,QAAQ,GAAI,KAAK/E,QAAL,CAAcC,WAAf,GAA8BqC,CAAC,GAAGkI,OAAlC,GAA4ClI,CAAC,GAAG,GAAJ,GAAUkI,OAAjE;AACD,KAFM,MAEA,IAAI,CAAClI,CAAD,IAAMC,CAAV,EAAa;AAClBwC,MAAAA,QAAQ,GAAG,MAAMxC,CAAN,GAAUiI,OAArB;AACD;;AAED,WAAO,KAAK7K,GAAL,CAAS,SAAT,EAAoBoF,QAApB,CAAP;AACD,GAZD,CA1hCgC,CAwiChC;AACA;;;AACA7F,EAAAA,KAAK,CAAC2R,OAAN,GAAgB,SAASA,OAAT,CAAkB9Q,IAAlB,EAAwB;AACtC,QAAI,CAACA,IAAD,IAAS,CAAC,CAAC8Q,OAAO,CAACC,KAAR,CAAcrD,OAAd,CAAsB1N,IAAtB,CAAf,EAA4C;AAC1CA,MAAAA,IAAI,GAAG,WAAP,CAD0C,CACtB;AACrB;;AAED,WAAO,KAAKJ,GAAL,CAAS,UAAT,EAAqBI,IAArB,CAAP;AACD,GAND;;AAQAb,EAAAA,KAAK,CAAC2R,OAAN,CAAcC,KAAd,GAAsB,CAClB,WADkB,EAElB,OAFkB,EAGlB,WAHkB,EAIlB,MAJkB,EAKlB,QALkB,EAMlB,MANkB,EAOlB,WAPkB,EAQlB,OARkB,EASlB,WATkB,CAAtB,CAljCgC,CA8jChC;;AACA5R,EAAAA,KAAK,CAACoF,OAAN,GAAgB,SAASA,OAAT,GAAoB;AAClC,WAAO,KAAK3E,GAAL,CAAS,UAAT,CAAP;AACD,GAFD,CA/jCgC,CAmkChC;;;AACAT,EAAAA,KAAK,CAAC6R,UAAN,GAAmB,SAASA,UAAT,CAAqB7O,KAArB,EAA4B;AAC7C,WAAO,KAAKM,EAAL,CAAQ,aAAR,EAAuBN,KAAvB,CAAP;AACD,GAFD;AAGD,CAvkCD;AAykCA;AACA;AACA;;;AAEA,SAASsM,OAAT,CAAkB1N,GAAlB,EAAuB;AACrB,SAAO,UAAUyL,MAAV,EAAkB;AACvBA,IAAAA,MAAM,GAAGW,MAAM,CAACX,MAAD,CAAf;AAEAA,IAAAA,MAAM,GAAG,OAAOA,MAAM,CAACyE,MAAP,CAAc,CAAd,CAAP,GACLzE,MAAM,CAAC0E,SAAP,CAAiB,CAAjB,CADK,GAEL1E,MAFJ;AAIA,WAAO,KAAK5M,GAAL,CAASmB,GAAT,EAAc,MAAMyL,MAAN,GAAe,GAA7B,CAAP;AACD,GARD;AASD","sourcesContent":["/**\n * Dependencies\n */\n\nvar argsToArray = require('./utils').argsToArray;\nvar isUtil = require('./utils').isUtil;\n/**\n * Extend proto\n */\n\nmodule.exports = function (proto) {\n  // change the specified frame.\n  // See #202.\n  proto.selectFrame = function (frame) {\n    if (typeof frame === 'number')\n      this.sourceFrames = '[' + frame + ']';\n    return this;\n  }\n\n  // define the sub-command to use, http://www.graphicsmagick.org/utilities.html\n  proto.command = proto.subCommand = function subCommand (name){\n    this._subCommand = name;\n    return this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-adjoin\n  proto.adjoin = function adjoin () {\n    return this.out(\"-adjoin\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-affine\n  proto.affine = function affine (matrix) {\n    return this.out(\"-affine\", matrix);\n  }\n\n  proto.alpha = function alpha (type) {\n    if (!this._options.imageMagick) return new Error('Method -alpha is not supported by GraphicsMagick');\n    return this.out('-alpha', type);\n  }\n\n  /**\n   * Appends images to the list of \"source\" images.\n   *\n   * We may also specify either top-to-bottom or left-to-right\n   * behavior of the appending by passing a boolean argument.\n   *\n   * Examples:\n   *\n   *    img = gm(src);\n   *\n   *    // +append means left-to-right\n   *    img.append(img1, img2)       gm convert src img1 img2 -append\n   *    img.append(img, true)        gm convert src img +append\n   *    img.append(img, false)       gm convert src img -append\n   *    img.append(img)              gm convert src img -append\n   *    img.append(img).append()     gm convert src img -append\n   *    img.append(img).append(true) gm convert src img +append\n   *    img.append(img).append(true) gm convert src img +append\n   *    img.append(img).background('#222) gm convert src img -background #222 +append\n   *    img.append([img1,img2...],true)\n\n   * @param {String} or {Array} [img]\n   * @param {Boolean} [ltr]\n   * @see http://www.graphicsmagick.org/GraphicsMagick.html#details-append\n   */\n\n  proto.append = function append (img, ltr) {\n    if (!this._append) {\n      this._append = [];\n      this.addSrcFormatter(function (src) {\n        this.out(this._append.ltr ? '+append' : '-append');\n        src.push.apply(src, this._append);\n      });\n    }\n\n    if (0 === arguments.length) {\n      this._append.ltr = false;\n      return this;\n    }\n\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      switch (isUtil(arg)) {\n        case 'Boolean':\n          this._append.ltr = arg;\n          break;\n        case 'String':\n          this._append.push(arg);\n          break;\n        case 'Array':\n          for(var j=0,len=arg.length;j<len;j++){\n            if(isUtil(arg[j]) == 'String'){\n              this._append.push(arg[j]);\n            }\n          }\n          break;\n      }\n    }\n\n    return this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-authenticate\n  proto.authenticate = function authenticate (string) {\n    return this.out(\"-authenticate\", string);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-average\n  proto.average = function average () {\n    return this.out(\"-average\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-backdrop\n  proto.backdrop = function backdrop () {\n    return this.out(\"-backdrop\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-black-threshold\n  proto.blackThreshold = function blackThreshold (red, green, blue, opacity) {\n    return this.out(\"-black-threshold\", argsToArray(red, green, blue, opacity).join(','));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-blue-primary\n  proto.bluePrimary = function bluePrimary (x, y) {\n    return this.out(\"-blue-primary\", argsToArray(x, y).join(','));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-border\n  proto.border = function border (width, height) {\n    return this.out(\"-border\", width+\"x\"+height);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-bordercolor\n  proto.borderColor = function borderColor (color) {\n    return this.out(\"-bordercolor\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-box\n  proto.box = function box (color) {\n    return this.out(\"-box\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-channel\n  proto.channel = function channel (type) {\n    return this.out(\"-channel\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-chop\n  proto.chop = function chop (w, h, x, y) {\n    return this.in(\"-chop\", w+\"x\"+h + \"+\"+(x||0)+\"+\"+(y||0));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-clip\n  proto.clip = function clip () {\n    return this.out(\"-clip\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-coalesce\n  proto.coalesce = function coalesce () {\n    return this.out(\"-coalesce\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colorize\n  proto.colorize = function colorize (r, g, b) {\n    return this.out(\"-colorize\", [r,g,b].join(\",\"));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colormap\n  proto.colorMap = function colorMap (type) {\n    return this.out(\"-colormap\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-compose\n  proto.compose = function compose (operator) {\n    return this.out(\"-compose\", operator);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-compress\n  proto.compress = function compress (type) {\n    return this.out(\"-compress\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-kernel\n  proto.convolve = function convolve (kernel) {\n    return this.out(\"-convolve\", kernel);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-create-directories\n  proto.createDirectories = function createDirectories () {\n    return this.out(\"-create-directories\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-deconstruct\n  proto.deconstruct = function deconstruct () {\n    return this.out(\"-deconstruct\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-define\n  proto.define = function define (value) {\n    return this.out(\"-define\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-delay\n  proto.delay = function delay (value) {\n    return this.out(\"-delay\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-displace\n  proto.displace = function displace (horizontalScale, verticalScale) {\n    return this.out(\"-displace\", horizontalScale+'x'+verticalScale);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-display\n  proto.display = function display (value) {\n    return this.out(\"-display\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-dispose\n  proto.dispose = function dispose (method) {\n    return this.out(\"-dispose\", method);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-dissolve\n  proto.dissolve = function dissolve (percent) {\n    return this.out(\"-dissolve\", percent+'%');\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-encoding\n  proto.encoding = function encoding (type) {\n    return this.out(\"-encoding\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-endian\n  proto.endian = function endian (type) {\n    return this.out(\"-endian\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-file\n  proto.file = function file (filename) {\n    return this.out(\"-file\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flatten\n  proto.flatten = function flatten () {\n    return this.out(\"-flatten\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-foreground\n  proto.foreground = function foreground (color) {\n    return this.out(\"-foreground\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-frame\n  proto.frame = function frame (width, height, outerBevelWidth, innerBevelWidth) {\n    if(arguments.length==0) return this.out(\"-frame\");\n    return this.out(\"-frame\", width+'x'+height+'+'+outerBevelWidth+'+'+innerBevelWidth);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-fuzz\n  proto.fuzz = function fuzz (distance, percent) {\n    return this.out(\"-fuzz\", distance+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-gaussian\n  proto.gaussian = function gaussian (radius, sigma) {\n    return this.out(\"-gaussian\", argsToArray(radius, sigma).join('x'));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-geometry\n  proto.geometry = function geometry (width, height, arg) {\n    // If the first argument is a string, and there is only one argument, this is a custom geometry command.\n    if(arguments.length == 1 && typeof arguments[0] === \"string\")\n      return this.out(\"-geometry\", arguments[0]);\n\n    // Otherwise, return a resizing geometry command with an option alrgument.\n    return this.out(\"-geometry\", width+'x'+height+(arg||''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-green-primary\n  proto.greenPrimary = function greenPrimary (x, y) {\n    return this.out(\"-green-primary\", x+','+y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-highlight-color\n  proto.highlightColor = function highlightColor (color) {\n    return this.out(\"-highlight-color\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-highlight-style\n  proto.highlightStyle = function highlightStyle (style) {\n    return this.out(\"-highlight-style\", style);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-iconGeometry\n  proto.iconGeometry = function iconGeometry (geometry) {\n    return this.out(\"-iconGeometry\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-intent\n  proto.intent = function intent (type) {\n    return this.out(\"-intent\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-lat\n  proto.lat = function lat (width, height, offset, percent) {\n    return this.out(\"-lat\", width+'x'+height+offset+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-level\n  proto.level = function level (blackPoint, gamma, whitePoint, percent) {\n    return this.out(\"-level\", argsToArray(blackPoint, gamma, whitePoint).join(',')+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-list\n  proto.list = function list (type) {\n    return this.out(\"-list\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-log\n  proto.log = function log (string) {\n    return this.out(\"-log\", string);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-loop\n  proto.loop = function loop (iterations) {\n    return this.out(\"-loop\", iterations);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-map\n  proto.map = function map (filename) {\n    return this.out(\"-map\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mask\n  proto.mask = function mask (filename) {\n    return this.out(\"-mask\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-matte\n  proto.matte = function matte () {\n    return this.out(\"-matte\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mattecolor\n  proto.matteColor = function matteColor (color) {\n    return this.out(\"-mattecolor\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-maximum-error\n  proto.maximumError = function maximumError (limit) {\n    return this.out(\"-maximum-error\", limit);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mode\n  proto.mode = function mode (value) {\n    return this.out(\"-mode\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-monitor\n  proto.monitor = function monitor () {\n    return this.out(\"-monitor\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mosaic\n  proto.mosaic = function mosaic () {\n    return this.out(\"-mosaic\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-motion-blur\n  proto.motionBlur = function motionBlur (radius, sigma, angle) {\n    var arg=radius;\n    if (typeof sigma!='undefined') arg+='x'+sigma;\n    if (typeof angle!='undefined') arg+='+'+angle;\n    return this.out(\"-motion-blur\", arg);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-name\n  proto.name = function name () {\n    return this.out(\"-name\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-noop\n  proto.noop = function noop () {\n    return this.out(\"-noop\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-normalize\n  proto.normalize = function normalize () {\n    return this.out(\"-normalize\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-opaque\n  proto.opaque = function opaque (color) {\n    return this.out(\"-opaque\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-operator\n  proto.operator = function operator (channel, operator, rvalue, percent) {\n    return this.out(\"-operator\", channel, operator, rvalue+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-ordered-dither\n  proto.orderedDither = function orderedDither (channeltype, NxN) {\n    return this.out(\"-ordered-dither\", channeltype, NxN);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-output-directory\n  proto.outputDirectory = function outputDirectory (directory) {\n    return this.out(\"-output-directory\", directory);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-page\n  proto.page = function page (width, height, arg) {\n    return this.out(\"-page\", width+'x'+height+(arg||''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-pause\n  proto.pause = function pause (seconds) {\n    return this.out(\"-pause\", seconds);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-pen\n  proto.pen = function pen (color) {\n    return this.out(\"-pen\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-ping\n  proto.ping = function ping () {\n    return this.out(\"-ping\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-pointsize\n  proto.pointSize = function pointSize (value) {\n    return this.out(\"-pointsize\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-preview\n  proto.preview = function preview (type) {\n    return this.out(\"-preview\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-process\n  proto.process = function process (command) {\n    return this.out(\"-process\", command);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-profile\n  proto.profile = function profile (filename) {\n    return this.out(\"-profile\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-progress\n  proto.progress = function progress () {\n    return this.out(\"+progress\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-random-threshold\n  proto.randomThreshold = function randomThreshold (channeltype, LOWxHIGH) {\n    return this.out(\"-random-threshold\", channeltype, LOWxHIGH);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-recolor\n  proto.recolor = function recolor (matrix) {\n    return this.out(\"-recolor\", matrix);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-red-primary\n  proto.redPrimary = function redPrimary (x, y) {\n    return this.out(\"-red-primary\", x, y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-remote\n  proto.remote = function remote () {\n    return this.out(\"-remote\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-render\n  proto.render = function render () {\n    return this.out(\"-render\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-repage\n  proto.repage = function repage (width, height, xoff, yoff, arg) {\n    if (arguments[0] === \"+\") return this.out(\"+repage\");\n    return this.out(\"-repage\", width+'x'+height+'+'+xoff+'+'+yoff+(arg||''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-sample\n  proto.sample = function sample (geometry) {\n    return this.out(\"-sample\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-sampling-factor\n  proto.samplingFactor = function samplingFactor (horizontalFactor, verticalFactor) {\n    return this.out(\"-sampling-factor\", horizontalFactor+'x'+verticalFactor);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-scene\n  proto.scene = function scene (value) {\n    return this.out(\"-scene\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-scenes\n  proto.scenes = function scenes (start, end) {\n    return this.out(\"-scenes\", start+'-'+end);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-screen\n  proto.screen = function screen () {\n    return this.out(\"-screen\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-set\n  proto.set = function set (attribute, value) {\n    return this.out(\"-set\", attribute, value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-segment\n  proto.segment = function segment (clusterThreshold, smoothingThreshold) {\n    return this.out(\"-segment\", clusterThreshold+'x'+smoothingThreshold);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shade\n  proto.shade = function shade (azimuth, elevation) {\n    return this.out(\"-shade\", azimuth+'x'+elevation);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shadow\n  proto.shadow = function shadow (radius, sigma) {\n    return this.out(\"-shadow\", argsToArray(radius, sigma).join('x'));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shared-memory\n  proto.sharedMemory = function sharedMemory () {\n    return this.out(\"-shared-memory\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shave\n  proto.shave = function shave (width, height, percent) {\n    return this.out(\"-shave\", width+'x'+height+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shear\n  proto.shear = function shear (xDegrees, yDegreees) {\n    return this.out(\"-shear\", xDegrees+'x'+yDegreees);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-silent\n  proto.silent = function silent (color) {\n    return this.out(\"-silent\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-size\n  proto.rawSize = function rawSize (width, height, offset) {\n    var off = 'undefined' != typeof offset\n      ? '+' + offset\n      : '';\n    return this.out(\"-size\", width +'x'+ height + off);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-snaps\n  proto.snaps = function snaps (value) {\n    return this.out(\"-snaps\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-stegano\n  proto.stegano = function stegano (offset) {\n    return this.out(\"-stegano\", offset);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-stereo\n  proto.stereo = function stereo () {\n    return this.out(\"-stereo\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-text-font\n  proto.textFont = function textFont (name) {\n    return this.out(\"-text-font\", name);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-texture\n  proto.texture = function texture (filename) {\n    return this.out(\"-texture\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-threshold\n  proto.threshold = function threshold (value, percent) {\n    return this.out(\"-threshold\", value+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-thumbnail\n  proto.thumbnail = function thumbnail (w, h, options) {\n    options = options || \"\";\n    var geometry,\n      wIsValid = Boolean(w || w === 0),\n      hIsValid = Boolean(h || h === 0);\n\n    if (wIsValid && hIsValid) {\n      geometry = w + \"x\" + h + options\n    } else if (wIsValid) {\n      // GraphicsMagick requires <width>x<options>, ImageMagick requires <width><options>\n      geometry = (this._options.imageMagick) ? w + options : w +\n        'x' + options;\n    } else if (hIsValid) {\n      geometry = 'x' + h + options\n    } else {\n      return this\n    }\n\n    return this.out(\"-thumbnail\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-tile\n  proto.tile = function tile (filename) {\n    return this.out(\"-tile\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-title\n  proto.title = function title (string) {\n    return this.out(\"-title\", string);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-transform\n  proto.transform = function transform (color) {\n    return this.out(\"-transform\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-transparent\n  proto.transparent = function transparent (color) {\n    return this.out(\"-transparent\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-treedepth\n  proto.treeDepth = function treeDepth (value) {\n    return this.out(\"-treedepth\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-update\n  proto.update = function update (seconds) {\n    return this.out(\"-update\", seconds);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-units\n  proto.units = function units (type) {\n    return this.out(\"-units\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-unsharp\n  proto.unsharp = function unsharp (radius, sigma, amount, threshold) {\n    var arg=radius;\n    if (typeof sigma != 'undefined') arg+='x'+sigma;\n    if (typeof amount != 'undefined') arg+='+'+amount;\n    if (typeof threshold != 'undefined') arg+='+'+threshold;\n    return this.out(\"-unsharp\", arg);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-use-pixmap\n  proto.usePixmap = function usePixmap () {\n    return this.out(\"-use-pixmap\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-view\n  proto.view = function view (string) {\n    return this.out(\"-view\", string);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-virtual-pixel\n  proto.virtualPixel = function virtualPixel (method) {\n    return this.out(\"-virtual-pixel\", method);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-visual\n  proto.visual = function visual (type) {\n    return this.out(\"-visual\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-watermark\n  proto.watermark = function watermark (brightness, saturation) {\n    return this.out(\"-watermark\", brightness+'x'+saturation);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-wave\n  proto.wave = function wave (amplitude, wavelength) {\n    return this.out(\"-wave\", amplitude+'x'+wavelength);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-white-point\n  proto.whitePoint = function whitePoint (x, y) {\n    return this.out(\"-white-point\", x+'x'+y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-white-threshold\n  proto.whiteThreshold = function whiteThreshold (red, green, blue, opacity) {\n    return this.out(\"-white-threshold\", argsToArray(red, green, blue, opacity).join(','));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-window\n  proto.window = function window (id) {\n    return this.out(\"-window\", id);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-window-group\n  proto.windowGroup = function windowGroup () {\n    return this.out(\"-window-group\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-strip (graphicsMagick >= 1.3.15)\n  proto.strip = function strip () {\n    if (this._options.imageMagick) return this.out(\"-strip\");\n    return this.noProfile().out(\"+comment\");//Equivalent to \"-strip\" for all versions of graphicsMagick\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-interlace\n  proto.interlace = function interlace (type) {\n    return this.out(\"-interlace\", type || \"None\");\n  }\n\n  // force output format\n  proto.setFormat = function setFormat (format) {\n    if (format) this._outputFormat = format;\n    return this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-resize\n  proto.resize = function resize (w, h, options) {\n    options = options || \"\";\n    var geometry,\n      wIsValid = Boolean(w || w === 0),\n      hIsValid = Boolean(h || h === 0);\n\n    if (wIsValid && hIsValid) {\n      geometry = w + \"x\" + h + options\n    } else if (wIsValid) {\n      // GraphicsMagick requires <width>x<options>, ImageMagick requires <width><options>\n      geometry = (this._options.imageMagick) ? w + options : w +\n        'x' + options;\n    } else if (hIsValid) {\n      geometry = 'x' + h + options\n    } else {\n      return this\n    }\n\n    return this.out(\"-resize\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-resize with '!' option\n  proto.resizeExact = function resize (w, h) {\n    var options = \"!\";\n    return proto.resize.apply(this, [w, h, options]);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-scale\n  proto.scale = function scale (w, h, options) {\n    options = options || \"\";\n    var geometry;\n    if (w && h) {\n      geometry = w + \"x\" + h + options\n    } else if (w && !h) {\n      geometry = (this._options.imageMagick) ? w + options : w + 'x' + options;\n    } else if (!w && h) {\n      geometry = 'x' + h + options\n    }\n\n    return this.out(\"-scale\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-filter\n  proto.filter = function filter (val) {\n    return this.out(\"-filter\", val);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-density\n  proto.density = function density (w, h) {\n    if (w && !h && this._options.imageMagick) {\n      // GraphicsMagick requires <width>x<height>y, ImageMagick may take dpi<resolution>\n      // recommended 300dpi for higher quality\n      return this.in(\"-density\", w);\n    }\n    return this.in(\"-density\", w +\"x\"+ h);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-profile\n  proto.noProfile = function noProfile () {\n    this.out('+profile', '\"*\"');\n    return this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-resample\n  proto.resample = function resample (w, h) {\n    return this.out(\"-resample\", w+\"x\"+h);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-rotate\n  proto.rotate = function rotate (color, deg) {\n    return this.out(\"-background\", color, \"-rotate\", String(deg || 0));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flip\n  proto.flip = function flip () {\n    return this.out(\"-flip\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flop\n  proto.flop = function flop () {\n    return this.out(\"-flop\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-crop\n  proto.crop = function crop (w, h, x, y, percent) {\n    if (this.inputIs('jpg')) {\n      // avoid error \"geometry does not contain image (unable to crop image)\" - gh-17\n      var index = this._in.indexOf('-size');\n      if (~index) {\n        this._in.splice(index, 2);\n      }\n    }\n\n    return this.out(\"-crop\", w + \"x\" + h + \"+\" + (x || 0) + \"+\" + (y || 0) + (percent ? '%' : ''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-magnify\n  proto.magnify = function magnify (factor) {\n    return this.in(\"-magnify\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.minify = function minify () {\n    return this.in(\"-minify\")\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-quality\n  proto.quality = function quality (val) {\n    return this.in(\"-quality\", val || 75);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-blur\n  proto.blur = function blur (radius, sigma) {\n    return this.out(\"-blur\", radius + (sigma ? \"x\"+sigma : \"\"));\n  }\n\n  // http://www.graphicsmagick.org/convert.html\n  proto.charcoal = function charcoal (factor) {\n    return this.out(\"-charcoal\", factor || 2);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-modulate\n  proto.modulate = function modulate (b, s, h) {\n    return this.out(\"-modulate\", [b,s,h].join(\",\"));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-antialias\n  // note: antialiasing is enabled by default\n  proto.antialias = function antialias (disable) {\n    return false === disable\n      ? this.out(\"+antialias\")\n      : this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-depth\n  proto.bitdepth = function bitdepth (val) {\n    return this.out(\"-depth\", val);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colors\n  proto.colors = function colors (val) {\n    return this.out(\"-colors\", val || 128);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colorspace\n  proto.colorspace = function colorspace (val) {\n    return this.out(\"-colorspace\", val);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-comment\n  proto.comment = comment(\"-comment\");\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-contrast\n  proto.contrast = function contrast (mult) {\n    var arg = (parseInt(mult, 10) || 0) > 0\n      ? \"+contrast\"\n      : \"-contrast\";\n\n    mult = Math.abs(mult) || 1;\n\n    while (mult--) {\n      this.out(arg);\n    }\n\n    return this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-cycle\n  proto.cycle = function cycle (amount) {\n    return this.out(\"-cycle\", amount || 2);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.despeckle = function despeckle () {\n    return this.out(\"-despeckle\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-dither\n  // note: either colors() or monochrome() must be used for this\n  // to take effect.\n  proto.dither = function dither (on) {\n    var sign = false === on\n      ? \"+\"\n      : \"-\";\n\n    return this.out(sign + \"dither\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.monochrome = function monochrome () {\n    return this.out(\"-monochrome\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.edge = function edge (radius) {\n    return this.out(\"-edge\", radius || 1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.emboss = function emboss (radius) {\n    return this.out(\"-emboss\", radius || 1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.enhance = function enhance () {\n    return this.out(\"-enhance\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.equalize = function equalize () {\n    return this.out(\"-equalize\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-gamma\n  proto.gamma = function gamma (r, g, b) {\n    return this.out(\"-gamma\", [r,g,b].join());\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.implode = function implode (factor) {\n    return this.out(\"-implode\", factor || 1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-comment\n  proto.label = comment(\"-label\");\n\n  var limits = [ \"disk\", \"file\", \"map\", \"memory\", \"pixels\", \"threads\"];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-limit\n  proto.limit = function limit (type, val) {\n    type = type.toLowerCase();\n\n    if (!~limits.indexOf(type)) {\n      return this;\n    }\n\n    return this.out(\"-limit\", type, val);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.median = function median (radius) {\n    return this.out(\"-median\", radius || 1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-negate\n  proto.negative = function negative (grayscale) {\n    var sign = grayscale ? \"+\" : \"-\";\n    return this.out(sign + \"negate\");\n  }\n\n  var noises = [\n      \"uniform\"\n    , \"gaussian\"\n    , \"multiplicative\"\n    , \"impulse\"\n    , \"laplacian\"\n    , \"poisson\"\n  ];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-noise\n  proto.noise = function noise (radius) {\n    radius = (String(radius)).toLowerCase();\n\n    var sign = ~noises.indexOf(radius)\n      ? \"+\"\n      : \"-\";\n\n    return this.out(sign + \"noise\", radius);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-paint\n  proto.paint = function paint (radius) {\n    return this.out(\"-paint\", radius);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-raise\n  proto.raise = function raise (w, h) {\n    return this.out(\"-raise\", (w||0)+\"x\"+(h||0));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-raise\n  proto.lower = function lower (w, h) {\n    return this.out(\"+raise\", (w||0)+\"x\"+(h||0));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-region\n  proto.region = function region (w, h, x, y) {\n    w = w || 0;\n    h = h || 0;\n    x = x || 0;\n    y = y || 0;\n    return this.out(\"-region\", w + \"x\" + h + \"+\" + x + \"+\" + y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-roll\n  proto.roll = function roll (x, y) {\n    x = ((x = parseInt(x, 10) || 0) >= 0 ? \"+\" : \"\") + x;\n    y = ((y = parseInt(y, 10) || 0) >= 0 ? \"+\" : \"\") + y;\n    return this.out(\"-roll\", x+y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-sharpen\n  proto.sharpen = function sharpen (radius, sigma) {\n    sigma = sigma\n      ? \"x\" + sigma\n      : \"\";\n\n    return this.out(\"-sharpen\", radius + sigma);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-solarize\n  proto.solarize = function solarize (factor) {\n    return this.out(\"-solarize\", (factor || 1)+\"%\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-spread\n  proto.spread = function spread (amount) {\n    return this.out(\"-spread\", amount || 5);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-swirl\n  proto.swirl = function swirl (degrees) {\n    return this.out(\"-swirl\", degrees || 180);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-type\n  proto.type = function type (type) {\n    return this.in(\"-type\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-trim\n  proto.trim = function trim () {\n    return this.out(\"-trim\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-extent\n  proto.extent = function extent (w, h, options) {\n    options = options || \"\";\n    var geometry;\n    if (w && h) {\n      geometry = w + \"x\" + h + options\n    } else if (w && !h) {\n      geometry = (this._options.imageMagick) ? w + options : w + 'x' + options;\n    } else if (!w && h) {\n      geometry = 'x' + h + options\n    }\n\n    return this.out(\"-extent\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-gravity\n  // Be sure to use gravity BEFORE extent\n  proto.gravity = function gravity (type) {\n    if (!type || !~gravity.types.indexOf(type)) {\n      type = \"NorthWest\"; // Documented default.\n    }\n\n    return this.out(\"-gravity\", type);\n  }\n\n  proto.gravity.types = [\n      \"NorthWest\"\n    , \"North\"\n    , \"NorthEast\"\n    , \"West\"\n    , \"Center\"\n    , \"East\"\n    , \"SouthWest\"\n    , \"South\"\n    , \"SouthEast\"\n  ];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flatten\n  proto.flatten = function flatten () {\n    return this.out(\"-flatten\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-background\n  proto.background = function background (color) {\n    return this.in(\"-background\", color);\n  }\n};\n\n/**\n * Generates a handler for comments/labels.\n */\n\nfunction comment (arg) {\n  return function (format) {\n    format = String(format);\n\n    format = \"@\" == format.charAt(0)\n      ? format.substring(1)\n      : format;\n\n    return this.out(arg, '\"' + format + '\"');\n  }\n}\n"]},"metadata":{},"sourceType":"script"}